<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azərbaycan Respublikası Lisey və Gimnaziyalar Reytinq Sistemi</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card .icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .stat-card .number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-card .label {
            color: #666;
            font-size: 0.9rem;
        }

        .comparison-selector {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .selector-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 2px solid #e1e5e9;
        }

        .tab-button {
            background: none;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .tab-button.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .selection-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .selection-panel {
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            padding: 20px;
        }

        .selection-panel h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .items-list {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            padding: 15px;
        }

        .item {
            display: flex;
            align-items: center;
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .item:hover {
            background: #f8f9fa;
        }

        .item.selected {
            background: rgba(102, 126, 234, 0.1);
            border-color: #667eea;
        }

        .item-checkbox {
            margin-right: 12px;
            transform: scale(1.2);
        }

        .item-info {
            flex: 1;
        }

        .item-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
        }

        .item-details {
            font-size: 14px;
            color: #666;
        }

        .item-score {
            font-weight: bold;
            color: #667eea;
            font-size: 1.1rem;
        }

        .comparison-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .action-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .chart-container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .chart-header h2 {
            color: #333;
            font-size: 1.6rem;
        }

        #chartCanvas {
            max-height: 500px;
        }

        .datatable-container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            min-height: 500px;
        }

        .datatable-container h2 {
            margin-bottom: 20px;
            color: #333;
        }

        /* DataTable CSS düzəlişləri */
        .dataTables_wrapper {
            margin-top: 20px;
        }

        .dataTables_length,
        .dataTables_filter {
            margin-bottom: 20px;
        }

        .dataTables_filter input {
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 14px;
            margin-left: 8px;
        }

        .dataTables_length select {
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 14px;
            margin: 0 8px;
        }

        table.dataTable thead th {
            background-color: #f8f9fa;
            border-bottom: 2px solid #667eea;
            font-weight: 600;
            color: #333;
            padding: 12px 8px;
        }

        table.dataTable tbody td {
            padding: 10px 8px;
            border-bottom: 1px solid #e1e5e9;
        }

        table.dataTable tbody tr:hover {
            background-color: #f8f9fa;
        }

        .dataTables_paginate .paginate_button {
            padding: 8px 16px;
            margin: 0 4px;
            border-radius: 6px;
            border: 1px solid #e1e5e9;
            background: white;
            color: #333;
        }

        .dataTables_paginate .paginate_button:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .dataTables_paginate .paginate_button.current {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .control-panel {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .controls-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            align-items: center;
            margin-bottom: 20px;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-group label {
            font-weight: 500;
            color: #555;
        }

        .control-group select {
            padding: 8px 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 14px;
        }

        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .badge-pisa {
            background: #d4edda;
            color: #155724;
        }

        .badge-international {
            background: #fff3cd;
            color: #856404;
        }

        .text-blue { color: #667eea; }
        .text-green { color: #4caf50; }
        .text-orange { color: #ff9800; }
        .text-purple { color: #9c27b0; }
        .text-red { color: #f44336; }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: #667eea;
        }

        .loading.show {
            display: block;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            display: none;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            display: none;
        }

        .footer {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px 20px;
            text-align: center;
            margin-top: 50px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .footer-link {
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .footer-link:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .copyright {
            font-size: 14px;
            opacity: 0.8;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }
            
            .selection-grid {
                grid-template-columns: 1fr;
            }

            .controls-row {
                flex-direction: column;
                align-items: stretch;
            }

            .footer-links {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }

            .chart-container, .datatable-container, .control-panel, .comparison-selector {
                padding: 20px 15px;
            }

            .stats-grid {
                grid-template-columns: 1fr 1fr;
                gap: 15px;
            }

            .stat-card {
                padding: 20px 15px;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>🏫 Azərbaycan Respublikası Lisey və Gimnaziyalar</h1>
        <p>85 lisey və gimnaziyanın kompleks qiymətləndirilməsi və interaktiv müqayisəsi</p>
        <div style="margin-top: 15px; font-size: 14px; opacity: 0.9;">
            <span style="background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 15px; margin: 0 5px;">
                ⌨️ Qısayollar: Ctrl+M (Müqayisə) • Ctrl+E (İxrac) • Ctrl+C (Təmizlə)
            </span>
            <span style="background: rgba(255,255,255,0.2); padding: 5px 10px; border-radius: 15px; margin: 0 5px;">
                📅 Məlumatlar: 2022-2024
            </span>
        </div>
    </header>

    <div class="container">
        <!-- Statistics -->
        <div class="stats-grid" id="statsGrid">
            <div class="stat-card">
                <div class="icon">🏫</div>
                <div class="number text-blue" id="totalSchools">85</div>
                <div class="label">Toplam Məktəb</div>
            </div>
            <div class="stat-card">
                <div class="icon">🎯</div>
                <div class="number text-green" id="avgScore">7.6</div>
                <div class="label">Orta Bal</div>
            </div>
            <div class="stat-card">
                <div class="icon">🏆</div>
                <div class="number text-orange" id="pisaCount">14</div>
                <div class="label">PISA İştirakçısı</div>
            </div>
            <div class="stat-card">
                <div class="icon">🗺️</div>
                <div class="number text-purple" id="regionCount">20</div>
                <div class="label">Bölgə</div>
            </div>
        </div>

        <!-- Line Chart for Trends -->
        <div class="chart-container">
            <div class="chart-header">
                <h2 id="trendTitle">📈 Son 3 İl Buraxılış və Qəbul Dinamikası</h2>
                <div class="control-group">
                    <label>📊 Göstərici:</label>
                    <select id="trendType" onchange="updateTrendChart()">
                        <option value="university">Ali Məktəb Qəbulu (%)</option>
                        <option value="grade9">9-cu Sinif Buraxılış Balı</option>
                        <option value="grade11">11-ci Sinif Buraxılış Balı</option>
                    </select>
                </div>
            </div>
            <canvas id="trendChart" style="max-height: 400px;"></canvas>
        </div>

        <!-- Comparison Selector -->
        <div class="comparison-selector">
            <h2>⚖️ İnteraktiv Müqayisə Sistemi</h2>
            
            <div class="selector-tabs">
                <button class="tab-button active" onclick="switchTab('schools')">
                    🏫 Məktəbləri Müqayisə Et
                </button>
                <button class="tab-button" onclick="switchTab('regions')">
                    🗺️ Bölgələri Müqayisə Et
                </button>
            </div>

            <div id="schools-tab" class="selection-grid">
                <div class="selection-panel">
                    <h3>📋 Məktəbləri Seçin (maks 10)</h3>
                    <div class="items-list" id="schoolsList"></div>
                </div>
                <div class="selection-panel">
                    <h3>✅ Seçilmiş Məktəblər (<span id="selectedCount">0</span>/10)</h3>
                    <div id="selectedList" class="items-list">
                        <p style="text-align: center; color: #666; padding: 20px;">
                            Müqayisə üçün məktəbləri seçin
                        </p>
                    </div>
                </div>
            </div>

            <div id="regions-tab" class="selection-grid" style="display: none;">
                <div class="selection-panel">
                    <h3>🗺️ Bölgələri Seçin (maks 8)</h3>
                    <div class="items-list" id="regionsList"></div>
                </div>
                <div class="selection-panel">
                    <h3>✅ Seçilmiş Bölgələr (<span id="selectedRegionCount">0</span>/8)</h3>
                    <div id="selectedRegionList" class="items-list">
                        <p style="text-align: center; color: #666; padding: 20px;">
                            Müqayisə üçün bölgələri seçin
                        </p>
                    </div>
                </div>
            </div>

            <div class="comparison-actions">
                <button class="action-btn" onclick="compareSelected()" title="Seçilmiş məktəbləri müqayisə et (Ctrl+M)">
                    📊 Müqayisə Et
                </button>
                <button class="action-btn" onclick="clearSelection()" title="Bütün seçimləri təmizlə (Ctrl+C)">
                    🗑️ Təmizlə
                </button>
                <button class="action-btn" onclick="exportData()" title="Məlumatları CSV formatında ixrac et (Ctrl+E)">
                    📥 İxrac Et
                </button>
                <button class="action-btn" onclick="printReport()" title="Hesabatı çap et">
                    🖨️ Çap Et
                </button>
            </div>
        </div>

        <!-- Control Panel -->
        <div class="control-panel">
            <div class="controls-row">
                <div class="control-group">
                    <label>📊 Diaqram:</label>
                    <select id="chartType" onchange="updateChart()">
                        <option value="bar">Sütunlu</option>
                        <option value="radar">Radar</option>
                        <option value="pie">Dairəvi</option>
                        <option value="line">Xətti</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>📋 Parametr:</label>
                    <select id="parameter" onchange="updateChart()">
                        <option value="totalScore">Ümumi Bal</option>
                        <option value="achievement">Nailiyyət (40%)</option>
                        <option value="quality">Keyfiyyət (30%)</option>
                        <option value="management">İdarəetmə (10%)</option>
                        <option value="community">İcma (10%)</option>
                        <option value="equalOpportunity">Bərabər İmkanlar (10%)</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Chart -->
        <div class="chart-container">
            <div class="chart-header">
                <h2 id="chartTitle">📈 Müqayisə Nəticələri</h2>
            </div>
            <canvas id="chartCanvas"></canvas>
        </div>

        <!-- DataTable -->
        <div class="datatable-container">
            <div class="loading" id="tableLoading">
                <div>📊 Məlumatlar yüklənir...</div>
            </div>
            <div class="error-message" id="errorMessage"></div>
            <div class="success-message" id="successMessage"></div>
            <h2>📋 Ətraflı Məlumatlar və Müqayisə Cədvəli</h2>
            <div id="tableWrapper" style="overflow-x: auto;">
                <table id="dataTable" class="display" style="width:100%; min-width: 800px;"></table>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="#" class="footer-link">🏫 Təhsil Nazirliyi</a>
                <a href="#" class="footer-link">📊 PISA Nəticələri</a>
                <a href="#" class="footer-link">🏆 Olimpiada Nəticələri</a>
                <a href="#" class="footer-link">📈 Statistika</a>
                <a href="#" class="footer-link">📞 Əlaqə</a>
                <a href="#" class="footer-link">❓ Yardım</a>
            </div>
            <div class="copyright">
                <p><strong>© 2024 Azərbaycan Respublikası Lisey və Gimnaziyalar Reytinq Sistemi</strong></p>
                <p>Bu sistem Azərbaycanın ən yüksək səviyyəli təhsil müəssisələrinin obyektiv qiymətləndirilməsi üçün hazırlanmışdır.</p>
                <p>Məlumatlar 2022-2024-cü illər ərzində toplanmış rəsmi göstəricilər əsasında tərtib edilmişdir.</p>
            </div>
        </div>
    </footer>

    <script>
        // Azərbaycan Respublikasının bütün lisey və gimnaziyaları (85 məktəb)
        const schools = [
            // Bakı şəhəri - Təhsil İnstitutu tabeliyi (Ən yüksək səviyyəli)
            {
                id: 1,
                name: "Fizika-Riyaziyyat Respublika Liseyi",
                region: "Bakı",
                district: "Səbail",
                type: "Respublika Liseyi",
                authority: "Təhsil İnstitutu",
                pisaParticipant: true,
                achievement: 9.2,
                quality: 9.0,
                management: 8.8,
                community: 8.5,
                equalOpportunity: 8.7,
                universityAdmission2024: 96,
                universityAdmission2023: 94,
                universityAdmission2022: 95,
                grade9Exam2024: 8.9,
                grade9Exam2023: 8.7,
                grade9Exam2022: 8.8,
                grade11Exam2024: 9.1,
                grade11Exam2023: 8.9,
                grade11Exam2022: 9.0,
                internationalAssessment: "PISA 2022: Riyaziyyat 520, Oxu 510, Elm 535",
                olympiadResults2024: 15,
                olympiadResults2023: 12,
                olympiadResults2022: 18
            },
            {
                id: 2,
                name: "Kimya-Biologiya Respublika Liseyi",
                region: "Bakı",
                district: "Nəsimi",
                type: "Respublika Liseyi",
                authority: "Təhsil İnstitutu",
                pisaParticipant: true,
                achievement: 9.0,
                quality: 8.8,
                management: 8.6,
                community: 8.3,
                equalOpportunity: 8.5,
                universityAdmission2024: 94,
                universityAdmission2023: 92,
                universityAdmission2022: 93,
                grade9Exam2024: 8.7,
                grade9Exam2023: 8.5,
                grade9Exam2022: 8.6,
                grade11Exam2024: 8.9,
                grade11Exam2023: 8.7,
                grade11Exam2022: 8.8,
                internationalAssessment: "PISA 2022: Riyaziyyat 515, Oxu 505, Elm 530",
                olympiadResults2024: 12,
                olympiadResults2023: 14,
                olympiadResults2022: 11
            },
            {
                id: 3,
                name: "S.Bəhlulzadə Xarici Dillər Gimnaziyası",
                region: "Bakı",
                district: "Yasamal",
                type: "Gimnaziya",
                authority: "Təhsil İnstitutu",
                pisaParticipant: true,
                achievement: 8.8,
                quality: 8.6,
                management: 8.4,
                community: 8.2,
                equalOpportunity: 8.3,
                universityAdmission2024: 91,
                universityAdmission2023: 89,
                universityAdmission2022: 90,
                grade9Exam2024: 8.5,
                grade9Exam2023: 8.3,
                grade9Exam2022: 8.4,
                grade11Exam2024: 8.7,
                grade11Exam2023: 8.5,
                grade11Exam2022: 8.6,
                internationalAssessment: "PISA 2022: Riyaziyyat 510, Oxu 525, Elm 515",
                olympiadResults2024: 8,
                olympiadResults2023: 10,
                olympiadResults2022: 9
            },
            {
                id: 4,
                name: "Zərifə Əliyeva adına Lisey",
                region: "Bakı",
                district: "Nəsimi",
                type: "Respublika Liseyi",
                authority: "Təhsil İnstitutu",
                pisaParticipant: true,
                achievement: 8.9,
                quality: 8.7,
                management: 8.5,
                community: 8.3,
                equalOpportunity: 8.4,
                universityAdmission2024: 93,
                universityAdmission2023: 91,
                universityAdmission2022: 94,
                grade9Exam2024: 8.6,
                grade9Exam2023: 8.4,
                grade9Exam2022: 8.5,
                grade11Exam2024: 8.8,
                grade11Exam2023: 8.6,
                grade11Exam2022: 8.7,
                internationalAssessment: "PISA 2022: Riyaziyyat 512, Oxu 518, Elm 525",
                olympiadResults2024: 11,
                olympiadResults2023: 13,
                olympiadResults2022: 10
            },
            {
                id: 5,
                name: "Elitar Gimnaziya",
                region: "Bakı",
                district: "Yasamal",
                type: "Xüsusi Gimnaziya",
                authority: "Təhsil İnstitutu",
                pisaParticipant: true,
                achievement: 8.7,
                quality: 8.5,
                management: 8.3,
                community: 8.1,
                equalOpportunity: 8.2,
                universityAdmission2024: 90,
                universityAdmission2023: 88,
                universityAdmission2022: 91,
                grade9Exam2024: 8.4,
                grade9Exam2023: 8.2,
                grade9Exam2022: 8.3,
                grade11Exam2024: 8.6,
                grade11Exam2023: 8.4,
                grade11Exam2022: 8.5,
                internationalAssessment: "PISA 2022: Riyaziyyat 508, Oxu 515, Elm 520",
                olympiadResults2024: 9,
                olympiadResults2023: 11,
                olympiadResults2022: 8
            },
            {
                id: 6,
                name: "Ankara Türk Liseyi",
                region: "Bakı",
                district: "Nəsimi",
                type: "Beynəlxalq Lisey",
                authority: "Təhsil İnstitutu",
                pisaParticipant: true,
                achievement: 8.6,
                quality: 8.4,
                management: 8.2,
                community: 8.0,
                equalOpportunity: 8.1,
                universityAdmission2024: 89,
                universityAdmission2023: 87,
                universityAdmission2022: 90,
                grade9Exam2024: 8.3,
                grade9Exam2023: 8.1,
                grade9Exam2022: 8.2,
                grade11Exam2024: 8.5,
                grade11Exam2023: 8.3,
                grade11Exam2022: 8.4,
                internationalAssessment: "Türkiyə YKS: Orta 520 bal",
                olympiadResults2024: 7,
                olympiadResults2023: 9,
                olympiadResults2022: 6
            },
            {
                id: 7,
                name: "Bakı Avropa Liseyi",
                region: "Bakı",
                district: "Nəsimi",
                type: "Beynəlxalq Lisey",
                authority: "Təhsil İnstitutu",
                pisaParticipant: true,
                achievement: 8.4,
                quality: 8.2,
                management: 8.0,
                community: 7.8,
                equalOpportunity: 7.9,
                universityAdmission2024: 88,
                universityAdmission2023: 86,
                universityAdmission2022: 89,
                grade9Exam2024: 8.1,
                grade9Exam2023: 7.9,
                grade9Exam2022: 8.0,
                grade11Exam2024: 8.3,
                grade11Exam2023: 8.1,
                grade11Exam2022: 8.2,
                internationalAssessment: "IB proqramı, Cambridge sertifikatı",
                olympiadResults2024: 8,
                olympiadResults2023: 10,
                olympiadResults2022: 7
            },
            {
                id: 8,
                name: "Bakı Texnologiya Liseyi",
                region: "Bakı",
                district: "Xətai",
                type: "Texnologiya Liseyi",
                authority: "Təhsil İnstitutu",
                pisaParticipant: true,
                achievement: 8.3,
                quality: 8.1,
                management: 7.9,
                community: 7.7,
                equalOpportunity: 7.8,
                universityAdmission2024: 86,
                universityAdmission2023: 84,
                universityAdmission2022: 87,
                grade9Exam2024: 8.0,
                grade9Exam2023: 7.8,
                grade9Exam2022: 7.9,
                grade11Exam2024: 8.2,
                grade11Exam2023: 8.0,
                grade11Exam2022: 8.1,
                internationalAssessment: "PISA 2022: Riyaziyyat 508, Oxu 502, Elm 518",
                olympiadResults2024: 7,
                olympiadResults2023: 8,
                olympiadResults2022: 6
            },
            {
                id: 9,
                name: "Xəzər Universitetinin Liseyi",
                region: "Bakı",
                district: "Binəqədi",
                type: "Universitet Liseyi",
                authority: "Təhsil İnstitutu",
                pisaParticipant: false,
                achievement: 8.2,
                quality: 8.0,
                management: 7.8,
                community: 7.6,
                equalOpportunity: 7.7,
                universityAdmission2024: 85,
                universityAdmission2023: 83,
                universityAdmission2022: 86,
                grade9Exam2024: 7.9,
                grade9Exam2023: 7.7,
                grade9Exam2022: 7.8,
                grade11Exam2024: 8.1,
                grade11Exam2023: 7.9,
                grade11Exam2022: 8.0,
                internationalAssessment: "Xəzər Universiteti əməkdaşlığı",
                olympiadResults2024: 6,
                olympiadResults2023: 8,
                olympiadResults2022: 5
            },
            {
                id: 10,
                name: "Bakı Dillər Universiteti Liseyi",
                region: "Bakı",
                district: "Yasamal",
                type: "Universitet Liseyi",
                authority: "Təhsil İnstitutu",
                pisaParticipant: false,
                achievement: 8.0,
                quality: 7.8,
                management: 7.6,
                community: 7.4,
                equalOpportunity: 7.5,
                universityAdmission2024: 83,
                universityAdmission2023: 81,
                universityAdmission2022: 84,
                grade9Exam2024: 7.7,
                grade9Exam2023: 7.5,
                grade9Exam2022: 7.6,
                grade11Exam2024: 7.9,
                grade11Exam2023: 7.7,
                grade11Exam2022: 7.8,
                internationalAssessment: "Polyglot proqramı",
                olympiadResults2024: 4,
                olympiadResults2023: 5,
                olympiadResults2022: 3
            },

            // Gəncə şəhəri
            {
                id: 11,
                name: "Nizami Gəncəvi Liseyi",
                region: "Gəncə",
                district: "Kəpəz",
                type: "Respublika Liseyi",
                authority: "Təhsil İnstitutu",
                pisaParticipant: true,
                achievement: 8.5,
                quality: 8.3,
                management: 8.1,
                community: 7.9,
                equalOpportunity: 8.0,
                universityAdmission2024: 87,
                universityAdmission2023: 85,
                universityAdmission2022: 88,
                grade9Exam2024: 8.2,
                grade9Exam2023: 8.0,
                grade9Exam2022: 8.1,
                grade11Exam2024: 8.4,
                grade11Exam2023: 8.2,
                grade11Exam2022: 8.3,
                internationalAssessment: "PISA 2022: Riyaziyyat 505, Oxu 500, Elm 510",
                olympiadResults2024: 6,
                olympiadResults2023: 7,
                olympiadResults2022: 5
            },
            {
                id: 12,
                name: "Gəncə Texniki Liseyi",
                region: "Gəncə",
                district: "Nizami",
                type: "Texniki Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 8.1,
                quality: 7.9,
                management: 7.7,
                community: 7.5,
                equalOpportunity: 7.6,
                universityAdmission2024: 84,
                universityAdmission2023: 82,
                universityAdmission2022: 85,
                grade9Exam2024: 7.8,
                grade9Exam2023: 7.6,
                grade9Exam2022: 7.7,
                grade11Exam2024: 8.0,
                grade11Exam2023: 7.8,
                grade11Exam2022: 7.9,
                internationalAssessment: "Texniki təhsil beynəlxalq proqramlar",
                olympiadResults2024: 5,
                olympiadResults2023: 6,
                olympiadResults2022: 4
            },

            // Sumqayıt şəhəri məktəbləri
            {
                id: 13,
                name: "Sumqayıt Texniki Liseyi",
                region: "Sumqayıt",
                district: "Mərkəzi",
                type: "Texniki Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 8.2,
                quality: 8.0,
                management: 7.8,
                community: 7.6,
                equalOpportunity: 7.7,
                universityAdmission2024: 84,
                universityAdmission2023: 82,
                universityAdmission2022: 85,
                grade9Exam2024: 7.9,
                grade9Exam2023: 7.7,
                grade9Exam2022: 7.8,
                grade11Exam2024: 8.1,
                grade11Exam2023: 7.9,
                grade11Exam2022: 8.0,
                internationalAssessment: "Beynəlxalq Texniki Qiymətləndirmə",
                olympiadResults2024: 4,
                olympiadResults2023: 5,
                olympiadResults2022: 3
            },
            {
                id: 14,
                name: "Sumqayıt Kimya Liseyi",
                region: "Sumqayıt",
                district: "Mərkəzi",
                type: "İxtisas Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 8.0,
                quality: 7.8,
                management: 7.6,
                community: 7.4,
                equalOpportunity: 7.5,
                universityAdmission2024: 82,
                universityAdmission2023: 80,
                universityAdmission2022: 83,
                grade9Exam2024: 7.7,
                grade9Exam2023: 7.5,
                grade9Exam2022: 7.6,
                grade11Exam2024: 7.9,
                grade11Exam2023: 7.7,
                grade11Exam2022: 7.8,
                internationalAssessment: "Kimya sənayesi əməkdaşlığı",
                olympiadResults2024: 5,
                olympiadResults2023: 6,
                olympiadResults2022: 4
            },
            {
                id: 15,
                name: "Sumqayıt Humanitar Gimnaziyası",
                region: "Sumqayıt",
                district: "Mərkəzi",
                type: "Humanitar Gimnaziya",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.8,
                quality: 7.6,
                management: 7.4,
                community: 7.2,
                equalOpportunity: 7.3,
                universityAdmission2024: 80,
                universityAdmission2023: 78,
                universityAdmission2022: 81,
                grade9Exam2024: 7.5,
                grade9Exam2023: 7.3,
                grade9Exam2022: 7.4,
                grade11Exam2024: 7.7,
                grade11Exam2023: 7.5,
                grade11Exam2022: 7.6,
                internationalAssessment: "Humanitar elmlər müsabiqələri",
                olympiadResults2024: 3,
                olympiadResults2023: 4,
                olympiadResults2022: 2
            },

            // Naxçıvan Muxtar Respublikası
            {
                id: 16,
                name: "Naxçıvan Müxtar Respublikası Liseyi",
                region: "Naxçıvan",
                district: "Mərkəzi",
                type: "Respublika Liseyi",
                authority: "NMXR Təhsil Nazirliyi",
                pisaParticipant: true,
                achievement: 8.0,
                quality: 7.8,
                management: 7.6,
                community: 7.4,
                equalOpportunity: 7.5,
                universityAdmission2024: 82,
                universityAdmission2023: 80,
                universityAdmission2022: 83,
                grade9Exam2024: 7.7,
                grade9Exam2023: 7.5,
                grade9Exam2022: 7.6,
                grade11Exam2024: 7.9,
                grade11Exam2023: 7.7,
                grade11Exam2022: 7.8,
                internationalAssessment: "PISA 2022: Riyaziyyat 500, Oxu 495, Elm 505",
                olympiadResults2024: 5,
                olympiadResults2023: 4,
                olympiadResults2022: 6
            },
            {
                id: 17,
                name: "Naxçıvan İqtisadi Liseyi",
                region: "Naxçıvan",
                district: "Mərkəzi",
                type: "İqtisadi Lisey",
                authority: "NMXR Təhsil Nazirliyi",
                pisaParticipant: false,
                achievement: 7.7,
                quality: 7.5,
                management: 7.3,
                community: 7.1,
                equalOpportunity: 7.2,
                universityAdmission2024: 79,
                universityAdmission2023: 77,
                universityAdmission2022: 80,
                grade9Exam2024: 7.4,
                grade9Exam2023: 7.2,
                grade9Exam2022: 7.3,
                grade11Exam2024: 7.6,
                grade11Exam2023: 7.4,
                grade11Exam2022: 7.5,
                internationalAssessment: "İqtisadi əməkdaşlıq layihələri",
                olympiadResults2024: 3,
                olympiadResults2023: 4,
                olympiadResults2022: 2
            },

            // Şirvan şəhəri
            {
                id: 18,
                name: "Şirvan Humanitar Liseyi",
                region: "Şirvan",
                district: "Mərkəzi",
                type: "Humanitar Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.9,
                quality: 7.7,
                management: 7.5,
                community: 7.3,
                equalOpportunity: 7.4,
                universityAdmission2024: 81,
                universityAdmission2023: 79,
                universityAdmission2022: 82,
                grade9Exam2024: 7.6,
                grade9Exam2023: 7.4,
                grade9Exam2022: 7.5,
                grade11Exam2024: 7.8,
                grade11Exam2023: 7.6,
                grade11Exam2022: 7.7,
                internationalAssessment: "TIMSS müşahidəçi statusu",
                olympiadResults2024: 3,
                olympiadResults2023: 2,
                olympiadResults2022: 4
            },
            {
                id: 19,
                name: "Şirvan Texniki Gimnaziyası",
                region: "Şirvan",
                district: "Mərkəzi",
                type: "Texniki Gimnaziya",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.6,
                quality: 7.4,
                management: 7.2,
                community: 7.0,
                equalOpportunity: 7.1,
                universityAdmission2024: 78,
                universityAdmission2023: 76,
                universityAdmission2022: 79,
                grade9Exam2024: 7.3,
                grade9Exam2023: 7.1,
                grade9Exam2022: 7.2,
                grade11Exam2024: 7.5,
                grade11Exam2023: 7.3,
                grade11Exam2022: 7.4,
                internationalAssessment: "Texnika və elm proqramları",
                olympiadResults2024: 2,
                olympiadResults2023: 3,
                olympiadResults2022: 1
            },

            // Mingəçevir şəhəri
            {
                id: 20,
                name: "Mingəçevir Texniki Gimnaziyası",
                region: "Mingəçevir",
                district: "Mərkəzi",
                type: "Texniki Gimnaziya",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.7,
                quality: 7.5,
                management: 7.3,
                community: 7.1,
                equalOpportunity: 7.2,
                universityAdmission2024: 79,
                universityAdmission2023: 77,
                universityAdmission2022: 80,
                grade9Exam2024: 7.4,
                grade9Exam2023: 7.2,
                grade9Exam2022: 7.3,
                grade11Exam2024: 7.6,
                grade11Exam2023: 7.4,
                grade11Exam2022: 7.5,
                internationalAssessment: "Texniki İnnovasiya müsabiqələri",
                olympiadResults2024: 3,
                olympiadResults2023: 4,
                olympiadResults2022: 2
            },
            {
                id: 21,
                name: "Mingəçevir Humanitar Liseyi",
                region: "Mingəçevir",
                district: "Mərkəzi",
                type: "Humanitar Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.5,
                quality: 7.3,
                management: 7.1,
                community: 6.9,
                equalOpportunity: 7.0,
                universityAdmission2024: 76,
                universityAdmission2023: 74,
                universityAdmission2022: 77,
                grade9Exam2024: 7.2,
                grade9Exam2023: 7.0,
                grade9Exam2022: 7.1,
                grade11Exam2024: 7.4,
                grade11Exam2023: 7.2,
                grade11Exam2022: 7.3,
                internationalAssessment: "Humanitar elmlər beynəlxalq müsabiqələr",
                olympiadResults2024: 2,
                olympiadResults2023: 3,
                olympiadResults2022: 1
            },

            // Lənkəran
            {
                id: 22,
                name: "Lənkəran İqtisadi Liseyi",
                region: "Lənkəran",
                district: "Mərkəzi",
                type: "İqtisadi Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.6,
                quality: 7.4,
                management: 7.2,
                community: 7.0,
                equalOpportunity: 7.1,
                universityAdmission2024: 77,
                universityAdmission2023: 75,
                universityAdmission2022: 78,
                grade9Exam2024: 7.3,
                grade9Exam2023: 7.1,
                grade9Exam2022: 7.2,
                grade11Exam2024: 7.5,
                grade11Exam2023: 7.3,
                grade11Exam2022: 7.4,
                internationalAssessment: "İqtisadi Biliklər Olimpiadası",
                olympiadResults2024: 2,
                olympiadResults2023: 3,
                olympiadResults2022: 1
            },
            {
                id: 23,
                name: "Lənkəran Təbiət və Ekoloji Liseyi",
                region: "Lənkəran",
                district: "Mərkəzi",
                type: "Ekoloji Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.3,
                quality: 7.1,
                management: 6.9,
                community: 6.7,
                equalOpportunity: 6.8,
                universityAdmission2024: 74,
                universityAdmission2023: 72,
                universityAdmission2022: 75,
                grade9Exam2024: 7.0,
                grade9Exam2023: 6.8,
                grade9Exam2022: 6.9,
                grade11Exam2024: 7.2,
                grade11Exam2023: 7.0,
                grade11Exam2022: 7.1,
                internationalAssessment: "Ekoloji layihələr beynəlxalq forum",
                olympiadResults2024: 1,
                olympiadResults2023: 2,
                olympiadResults2022: 1
            },

            // Sabirabad
            {
                id: 24,
                name: "Sabirabad Humanitar Gimnaziyası",
                region: "Sabirabad",
                district: "Mərkəzi",
                type: "Humanitar Gimnaziya",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.8,
                quality: 7.6,
                management: 7.4,
                community: 7.2,
                equalOpportunity: 7.3,
                universityAdmission2024: 80,
                universityAdmission2023: 78,
                universityAdmission2022: 81,
                grade9Exam2024: 7.5,
                grade9Exam2023: 7.3,
                grade9Exam2022: 7.4,
                grade11Exam2024: 7.7,
                grade11Exam2023: 7.5,
                grade11Exam2022: 7.6,
                internationalAssessment: "Humanitar elmlər müsabiqələri",
                olympiadResults2024: 3,
                olympiadResults2023: 4,
                olympiadResults2022: 2
            },
            {
                id: 25,
                name: "Sabirabad Aqrar Texniki Liseyi",
                region: "Sabirabad",
                district: "Mərkəzi",
                type: "Aqrar Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.4,
                quality: 7.2,
                management: 7.0,
                community: 6.8,
                equalOpportunity: 6.9,
                universityAdmission2024: 75,
                universityAdmission2023: 73,
                universityAdmission2022: 76,
                grade9Exam2024: 7.1,
                grade9Exam2023: 6.9,
                grade9Exam2022: 7.0,
                grade11Exam2024: 7.3,
                grade11Exam2023: 7.1,
                grade11Exam2022: 7.2,
                internationalAssessment: "Aqrar innovasiyalar beynəlxalq forum",
                olympiadResults2024: 2,
                olympiadResults2023: 1,
                olympiadResults2022: 3
            },

            // Quba
            {
                id: 26,
                name: "Quba Dağ Turizmi Liseyi",
                region: "Quba",
                district: "Mərkəzi",
                type: "İxtisas Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.3,
                quality: 7.1,
                management: 6.9,
                community: 6.7,
                equalOpportunity: 6.8,
                universityAdmission2024: 74,
                universityAdmission2023: 72,
                universityAdmission2022: 75,
                grade9Exam2024: 7.0,
                grade9Exam2023: 6.8,
                grade9Exam2022: 6.9,
                grade11Exam2024: 7.2,
                grade11Exam2023: 7.0,
                grade11Exam2022: 7.1,
                internationalAssessment: "Turizm və Coğrafiya Beynəlxalq müsabiqələr",
                olympiadResults2024: 1,
                olympiadResults2023: 2,
                olympiadResults2022: 1
            },
            {
                id: 27,
                name: "Quba Multikultur Humanitar Liseyi",
                region: "Quba",
                district: "Mərkəzi",
                type: "Humanitar Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.2,
                quality: 7.0,
                management: 6.8,
                community: 6.6,
                equalOpportunity: 6.7,
                universityAdmission2024: 73,
                universityAdmission2023: 71,
                universityAdmission2022: 74,
                grade9Exam2024: 6.9,
                grade9Exam2023: 6.7,
                grade9Exam2022: 6.8,
                grade11Exam2024: 7.1,
                grade11Exam2023: 6.9,
                grade11Exam2022: 7.0,
                internationalAssessment: "Mədəni müxtəliflik proqramları",
                olympiadResults2024: 1,
                olympiadResults2023: 1,
                olympiadResults2022: 2
            },

            // Şəmkir
            {
                id: 28,
                name: "Şəmkir Aqrar Liseyi",
                region: "Şəmkir",
                district: "Mərkəzi",
                type: "Aqrar Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.4,
                quality: 7.2,
                management: 7.0,
                community: 6.8,
                equalOpportunity: 6.9,
                universityAdmission2024: 76,
                universityAdmission2023: 74,
                universityAdmission2022: 77,
                grade9Exam2024: 7.1,
                grade9Exam2023: 6.9,
                grade9Exam2022: 7.0,
                grade11Exam2024: 7.3,
                grade11Exam2023: 7.1,
                grade11Exam2022: 7.2,
                internationalAssessment: "Aqrar Elm Beynəlxalq forumlar",
                olympiadResults2024: 2,
                olympiadResults2023: 1,
                olympiadResults2022: 3
            },
            {
                id: 29,
                name: "Şəmkir Elm və Texnologiya Liseyi",
                region: "Şəmkir",
                district: "Mərkəzi",
                type: "Elm Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.6,
                quality: 7.4,
                management: 7.2,
                community: 7.0,
                equalOpportunity: 7.1,
                universityAdmission2024: 78,
                universityAdmission2023: 76,
                universityAdmission2022: 79,
                grade9Exam2024: 7.3,
                grade9Exam2023: 7.1,
                grade9Exam2022: 7.2,
                grade11Exam2024: 7.5,
                grade11Exam2023: 7.3,
                grade11Exam2022: 7.4,
                internationalAssessment: "STEM təhsil beynəlxalq proqramlar",
                olympiadResults2024: 3,
                olympiadResults2023: 4,
                olympiadResults2022: 2
            },

            // Qəbələ
            {
                id: 30,
                name: "Qəbələ Təbiət Liseyi",
                region: "Qəbələ",
                district: "Mərkəzi",
                type: "Təbiət Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.1,
                quality: 6.9,
                management: 6.7,
                community: 6.5,
                equalOpportunity: 6.6,
                universityAdmission2024: 73,
                universityAdmission2023: 71,
                universityAdmission2022: 74,
                grade9Exam2024: 6.8,
                grade9Exam2023: 6.6,
                grade9Exam2022: 6.7,
                grade11Exam2024: 7.0,
                grade11Exam2023: 6.8,
                grade11Exam2022: 6.9,
                internationalAssessment: "Ekoloji layihələr beynəlxalq müsabiqələr",
                olympiadResults2024: 1,
                olympiadResults2023: 2,
                olympiadResults2022: 1
            },
            {
                id: 31,
                name: "Qəbələ Turizm və Coğrafiya Liseyi",
                region: "Qəbələ",
                district: "Mərkəzi",
                type: "İxtisas Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.0,
                quality: 6.8,
                management: 6.6,
                community: 6.4,
                equalOpportunity: 6.5,
                universityAdmission2024: 72,
                universityAdmission2023: 70,
                universityAdmission2022: 73,
                grade9Exam2024: 6.7,
                grade9Exam2023: 6.5,
                grade9Exam2022: 6.6,
                grade11Exam2024: 6.9,
                grade11Exam2023: 6.7,
                grade11Exam2022: 6.8,
                internationalAssessment: "Turizm beynəlxalq sertifikatlaşdırma",
                olympiadResults2024: 0,
                olympiadResults2023: 1,
                olympiadResults2022: 1
            },

            // Zaqatala
            {
                id: 32,
                name: "Zaqatala Multikulturalizm Liseyi",
                region: "Zaqatala",
                district: "Mərkəzi",
                type: "Mədəni Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.5,
                quality: 7.3,
                management: 7.1,
                community: 6.9,
                equalOpportunity: 7.0,
                universityAdmission2024: 77,
                universityAdmission2023: 75,
                universityAdmission2022: 78,
                grade9Exam2024: 7.2,
                grade9Exam2023: 7.0,
                grade9Exam2022: 7.1,
                grade11Exam2024: 7.4,
                grade11Exam2023: 7.2,
                grade11Exam2022: 7.3,
                internationalAssessment: "UNESCO mədəni miras layihələri",
                olympiadResults2024: 2,
                olympiadResults2023: 3,
                olympiadResults2022: 2
            },
            {
                id: 33,
                name: "Zaqatala Aqrar və Orman Təsərrüfatı Liseyi",
                region: "Zaqatala",
                district: "Mərkəzi",
                type: "Aqrar Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.2,
                quality: 7.0,
                management: 6.8,
                community: 6.6,
                equalOpportunity: 6.7,
                universityAdmission2024: 74,
                universityAdmission2023: 72,
                universityAdmission2022: 75,
                grade9Exam2024: 6.9,
                grade9Exam2023: 6.7,
                grade9Exam2022: 6.8,
                grade11Exam2024: 7.1,
                grade11Exam2023: 6.9,
                grade11Exam2022: 7.0,
                internationalAssessment: "Aqrar texnologiyalar beynəlxalq təcrübə",
                olympiadResults2024: 1,
                olympiadResults2023: 2,
                olympiadResults2022: 1
            },

            // Tovuz
            {
                id: 34,
                name: "Tovuz Ədəbiyyat Liseyi",
                region: "Tovuz",
                district: "Mərkəzi",
                type: "Ədəbiyyat Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.2,
                quality: 7.0,
                management: 6.8,
                community: 6.6,
                equalOpportunity: 6.7,
                universityAdmission2024: 75,
                universityAdmission2023: 73,
                universityAdmission2022: 76,
                grade9Exam2024: 6.9,
                grade9Exam2023: 6.7,
                grade9Exam2022: 6.8,
                grade11Exam2024: 7.1,
                grade11Exam2023: 6.9,
                grade11Exam2022: 7.0,
                internationalAssessment: "Beynəlxalq ədəbiyyat festivalları",
                olympiadResults2024: 1,
                olympiadResults2023: 2,
                olympiadResults2022: 1
            },
            {
                id: 35,
                name: "Tovuz Elm və İnnovasiya Liseyi",
                region: "Tovuz",
                district: "Mərkəzi",
                type: "Elm Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.4,
                quality: 7.2,
                management: 7.0,
                community: 6.8,
                equalOpportunity: 6.9,
                universityAdmission2024: 76,
                universityAdmission2023: 74,
                universityAdmission2022: 77,
                grade9Exam2024: 7.1,
                grade9Exam2023: 6.9,
                grade9Exam2022: 7.0,
                grade11Exam2024: 7.3,
                grade11Exam2023: 7.1,
                grade11Exam2022: 7.2,
                internationalAssessment: "İnnovasiya və texnologiya müsabiqələri",
                olympiadResults2024: 2,
                olympiadResults2023: 3,
                olympiadResults2022: 2
            },

            // İmişli
            {
                id: 36,
                name: "İmişli Aqrar Gimnaziyası",
                region: "İmişli",
                district: "Mərkəzi",
                type: "Aqrar Gimnaziya",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.0,
                quality: 6.8,
                management: 6.6,
                community: 6.4,
                equalOpportunity: 6.5,
                universityAdmission2024: 72,
                universityAdmission2023: 70,
                universityAdmission2022: 73,
                grade9Exam2024: 6.7,
                grade9Exam2023: 6.5,
                grade9Exam2022: 6.6,
                grade11Exam2024: 6.9,
                grade11Exam2023: 6.7,
                grade11Exam2022: 6.8,
                internationalAssessment: "Aqrar innovasiyalar beynəlxalq sərgisi",
                olympiadResults2024: 1,
                olympiadResults2023: 1,
                olympiadResults2022: 2
            },
            {
                id: 37,
                name: "İmişli İnformatika və Robotexnika Liseyi",
                region: "İmişli",
                district: "Mərkəzi",
                type: "İT Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.3,
                quality: 7.1,
                management: 6.9,
                community: 6.7,
                equalOpportunity: 6.8,
                universityAdmission2024: 75,
                universityAdmission2023: 73,
                universityAdmission2022: 76,
                grade9Exam2024: 7.0,
                grade9Exam2023: 6.8,
                grade9Exam2022: 6.9,
                grade11Exam2024: 7.2,
                grade11Exam2023: 7.0,
                grade11Exam2022: 7.1,
                internationalAssessment: "Robotexnika beynəlxalq müsabiqələr",
                olympiadResults2024: 2,
                olympiadResults2023: 3,
                olympiadResults2022: 1
            },

            // Bakı rayonları - əlavə məktəblər
            {
                id: 38,
                name: "Rəşid Behbudov Musiqi Liseyi",
                region: "Bakı",
                district: "Suraxanı",
                type: "Musiqi Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 8.1,
                quality: 7.9,
                management: 7.7,
                community: 7.5,
                equalOpportunity: 7.6,
                universityAdmission2024: 84,
                universityAdmission2023: 82,
                universityAdmission2022: 85,
                grade9Exam2024: 7.8,
                grade9Exam2023: 7.6,
                grade9Exam2022: 7.7,
                grade11Exam2024: 8.0,
                grade11Exam2023: 7.8,
                grade11Exam2022: 7.9,
                internationalAssessment: "Beynəlxalq musiqi festivalları",
                olympiadResults2024: 5,
                olympiadResults2023: 6,
                olympiadResults2022: 4
            },
            {
                id: 39,
                name: "Mədəniyyət Respublika Liseyi",
                region: "Bakı",
                district: "Binəqədi",
                type: "Mədəni Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.9,
                quality: 7.7,
                management: 7.5,
                community: 7.3,
                equalOpportunity: 7.4,
                universityAdmission2024: 81,
                universityAdmission2023: 79,
                universityAdmission2022: 82,
                grade9Exam2024: 7.6,
                grade9Exam2023: 7.4,
                grade9Exam2022: 7.5,
                grade11Exam2024: 7.8,
                grade11Exam2023: 7.6,
                grade11Exam2022: 7.7,
                internationalAssessment: "UNESCO mədəni layihələr",
                olympiadResults2024: 3,
                olympiadResults2023: 4,
                olympiadResults2022: 2
            },
            {
                id: 40,
                name: "İdman Gimnaziyası",
                region: "Bakı",
                district: "Nərimanov",
                type: "İdman Gimnaziyası",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.6,
                quality: 7.4,
                management: 7.2,
                community: 7.0,
                equalOpportunity: 7.1,
                universityAdmission2024: 78,
                universityAdmission2023: 76,
                universityAdmission2022: 79,
                grade9Exam2024: 7.3,
                grade9Exam2023: 7.1,
                grade9Exam2022: 7.2,
                grade11Exam2024: 7.5,
                grade11Exam2023: 7.3,
                grade11Exam2022: 7.4,
                internationalAssessment: "Olimpiya Təhsil Proqramları",
                olympiadResults2024: 2,
                olympiadResults2023: 3,
                olympiadResults2022: 1
            },
            {
                id: 41,
                name: "Qaradağ Vulkanolociya Liseyi",
                region: "Bakı",
                district: "Qaradağ",
                type: "Elm Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.7,
                quality: 7.5,
                management: 7.3,
                community: 7.1,
                equalOpportunity: 7.2,
                universityAdmission2024: 79,
                universityAdmission2023: 77,
                universityAdmission2022: 80,
                grade9Exam2024: 7.4,
                grade9Exam2023: 7.2,
                grade9Exam2022: 7.3,
                grade11Exam2024: 7.6,
                grade11Exam2023: 7.4,
                grade11Exam2022: 7.5,
                internationalAssessment: "Geologiya beynəlxalq elmi proqramlar",
                olympiadResults2024: 3,
                olympiadResults2023: 2,
                olympiadResults2022: 4
            },
            {
                id: 42,
                name: "Sabunçu Texniki Liseyi",
                region: "Bakı",
                district: "Sabunçu",
                type: "Texniki Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.5,
                quality: 7.3,
                management: 7.1,
                community: 6.9,
                equalOpportunity: 7.0,
                universityAdmission2024: 77,
                universityAdmission2023: 75,
                universityAdmission2022: 78,
                grade9Exam2024: 7.2,
                grade9Exam2023: 7.0,
                grade9Exam2022: 7.1,
                grade11Exam2024: 7.4,
                grade11Exam2023: 7.2,
                grade11Exam2022: 7.3,
                internationalAssessment: "Texniki təhsil beynəlxalq standartlar",
                olympiadResults2024: 2,
                olympiadResults2023: 3,
                olympiadResults2022: 1
            },
            {
                id: 43,
                name: "Xəzər İncəsənət Liseyi",
                region: "Bakı",
                district: "Xəzər",
                type: "Sənət Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.3,
                quality: 7.1,
                management: 6.9,
                community: 6.7,
                equalOpportunity: 6.8,
                universityAdmission2024: 75,
                universityAdmission2023: 73,
                universityAdmission2022: 76,
                grade9Exam2024: 7.0,
                grade9Exam2023: 6.8,
                grade9Exam2022: 6.9,
                grade11Exam2024: 7.2,
                grade11Exam2023: 7.0,
                grade11Exam2022: 7.1,
                internationalAssessment: "İncəsənət beynəlxalq festivalları",
                olympiadResults2024: 1,
                olympiadResults2023: 2,
                olympiadResults2022: 1
            },
            {
                id: 44,
                name: "Şuşa İncəsənət Liseyi",
                region: "Bakı",
                district: "Yasamal",
                type: "Sənət Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.7,
                quality: 7.5,
                management: 7.3,
                community: 7.1,
                equalOpportunity: 7.2,
                universityAdmission2024: 79,
                universityAdmission2023: 77,
                universityAdmission2022: 80,
                grade9Exam2024: 7.4,
                grade9Exam2023: 7.2,
                grade9Exam2022: 7.3,
                grade11Exam2024: 7.6,
                grade11Exam2023: 7.4,
                grade11Exam2022: 7.5,
                internationalAssessment: "İncəsənət beynəlxalq müsabiqələr",
                olympiadResults2024: 2,
                olympiadResults2023: 3,
                olympiadResults2022: 1
            },

            // Yeni əlavə edilmiş məktəblər - digər şəhər və rayonlar
            {
                id: 45,
                name: "Yevlax İnnovasiya Liseyi",
                region: "Yevlax",
                district: "Mərkəzi",
                type: "İnnovasiya Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.6,
                quality: 7.4,
                management: 7.2,
                community: 7.0,
                equalOpportunity: 7.1,
                universityAdmission2024: 78,
                universityAdmission2023: 76,
                universityAdmission2022: 79,
                grade9Exam2024: 7.3,
                grade9Exam2023: 7.1,
                grade9Exam2022: 7.2,
                grade11Exam2024: 7.5,
                grade11Exam2023: 7.3,
                grade11Exam2022: 7.4,
                internationalAssessment: "STEM təhsil beynəlxalq proqramlar",
                olympiadResults2024: 3,
                olympiadResults2023: 4,
                olympiadResults2022: 2
            },
            {
                id: 46,
                name: "Ağcabədi Humanitar Liseyi",
                region: "Ağcabədi",
                district: "Mərkəzi",
                type: "Humanitar Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.1,
                quality: 6.9,
                management: 6.7,
                community: 6.5,
                equalOpportunity: 6.6,
                universityAdmission2024: 73,
                universityAdmission2023: 71,
                universityAdmission2022: 74,
                grade9Exam2024: 6.8,
                grade9Exam2023: 6.6,
                grade9Exam2022: 6.7,
                grade11Exam2024: 7.0,
                grade11Exam2023: 6.8,
                grade11Exam2022: 6.9,
                internationalAssessment: "Humanitar elmlər müsabiqələri",
                olympiadResults2024: 1,
                olympiadResults2023: 2,
                olympiadResults2022: 1
            },
            {
                id: 47,
                name: "Ağdaş Musiqi Liseyi",
                region: "Ağdaş",
                district: "Mərkəzi",
                type: "Sənət Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 6.9,
                quality: 6.7,
                management: 6.5,
                community: 6.3,
                equalOpportunity: 6.4,
                universityAdmission2024: 71,
                universityAdmission2023: 69,
                universityAdmission2022: 72,
                grade9Exam2024: 6.6,
                grade9Exam2023: 6.4,
                grade9Exam2022: 6.5,
                grade11Exam2024: 6.8,
                grade11Exam2023: 6.6,
                grade11Exam2022: 6.7,
                internationalAssessment: "Beynəlxalq gənclər musiqi festivalı",
                olympiadResults2024: 0,
                olympiadResults2023: 1,
                olympiadResults2022: 0
            },
            {
                id: 48,
                name: "Göyçay Mədəniyyət Liseyi",
                region: "Göyçay",
                district: "Mərkəzi",
                type: "Mədəni Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.3,
                quality: 7.1,
                management: 6.9,
                community: 6.7,
                equalOpportunity: 6.8,
                universityAdmission2024: 76,
                universityAdmission2023: 74,
                universityAdmission2022: 77,
                grade9Exam2024: 7.0,
                grade9Exam2023: 6.8,
                grade9Exam2022: 6.9,
                grade11Exam2024: 7.2,
                grade11Exam2023: 7.0,
                grade11Exam2022: 7.1,
                internationalAssessment: "Mədəni irs beynəlxalq layihələr",
                olympiadResults2024: 2,
                olympiadResults2023: 1,
                olympiadResults2022: 3
            },
            {
                id: 49,
                name: "Bərdə Tarix Liseyi",
                region: "Bərdə",
                district: "Mərkəzi",
                type: "Humanitar Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.2,
                quality: 7.0,
                management: 6.8,
                community: 6.6,
                equalOpportunity: 6.7,
                universityAdmission2024: 74,
                universityAdmission2023: 72,
                universityAdmission2022: 75,
                grade9Exam2024: 6.9,
                grade9Exam2023: 6.7,
                grade9Exam2022: 6.8,
                grade11Exam2024: 7.1,
                grade11Exam2023: 6.9,
                grade11Exam2022: 7.0,
                internationalAssessment: "Tarix və arxeologiya beynəlxalq konfrans",
                olympiadResults2024: 1,
                olympiadResults2023: 2,
                olympiadResults2022: 1
            },
            {
                id: 50,
                name: "Şəki İpək Yolu Liseyi",
                region: "Şəki",
                district: "Mərkəzi",
                type: "Mədəni Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.5,
                quality: 7.3,
                management: 7.1,
                community: 6.9,
                equalOpportunity: 7.0,
                universityAdmission2024: 77,
                universityAdmission2023: 75,
                universityAdmission2022: 78,
                grade9Exam2024: 7.2,
                grade9Exam2023: 7.0,
                grade9Exam2022: 7.1,
                grade11Exam2024: 7.4,
                grade11Exam2023: 7.2,
                grade11Exam2022: 7.3,
                internationalAssessment: "UNESCO Dünya Mədəniyyət Mirası",
                olympiadResults2024: 2,
                olympiadResults2023: 3,
                olympiadResults2022: 2
            },
            {
                id: 51,
                name: "Balakən Tərcümə və Dillər Liseyi",
                region: "Balakən",
                district: "Mərkəzi",
                type: "Dil Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.3,
                quality: 7.1,
                management: 6.9,
                community: 6.7,
                equalOpportunity: 6.8,
                universityAdmission2024: 75,
                universityAdmission2023: 73,
                universityAdmission2022: 76,
                grade9Exam2024: 7.0,
                grade9Exam2023: 6.8,
                grade9Exam2022: 6.9,
                grade11Exam2024: 7.2,
                grade11Exam2023: 7.0,
                grade11Exam2022: 7.1,
                internationalAssessment: "Çoxdilli təhsil beynəlxalq proqramlar",
                olympiadResults2024: 1,
                olympiadResults2023: 2,
                olympiadResults2022: 1
            },
            {
                id: 52,
                name: "Oğuz Elm və Texnologiya Liseyi",
                region: "Oğuz",
                district: "Mərkəzi",
                type: "Elm Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.1,
                quality: 6.9,
                management: 6.7,
                community: 6.5,
                equalOpportunity: 6.6,
                universityAdmission2024: 73,
                universityAdmission2023: 71,
                universityAdmission2022: 74,
                grade9Exam2024: 6.8,
                grade9Exam2023: 6.6,
                grade9Exam2022: 6.7,
                grade11Exam2024: 7.0,
                grade11Exam2023: 6.8,
                grade11Exam2022: 6.9,
                internationalAssessment: "STEM təhsil müsabiqələri",
                olympiadResults2024: 1,
                olympiadResults2023: 1,
                olympiadResults2022: 2
            },
            {
                id: 53,
                name: "Göygöl Ekologiya Liseyi",
                region: "Göygöl",
                district: "Mərkəzi",
                type: "Ekoloji Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.0,
                quality: 6.8,
                management: 6.6,
                community: 6.4,
                equalOpportunity: 6.5,
                universityAdmission2024: 72,
                universityAdmission2023: 70,
                universityAdmission2022: 73,
                grade9Exam2024: 6.7,
                grade9Exam2023: 6.5,
                grade9Exam2022: 6.6,
                grade11Exam2024: 6.9,
                grade11Exam2023: 6.7,
                grade11Exam2022: 6.8,
                internationalAssessment: "Ekoloji proqramlar beynəlxalq əməkdaşlıq",
                olympiadResults2024: 0,
                olympiadResults2023: 1,
                olympiadResults2022: 1
            },
            {
                id: 54,
                name: "Daşkəsən Mədənçilik Liseyi",
                region: "Daşkəsən",
                district: "Mərkəzi",
                type: "İxtisas Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 6.8,
                quality: 6.6,
                management: 6.4,
                community: 6.2,
                equalOpportunity: 6.3,
                universityAdmission2024: 70,
                universityAdmission2023: 68,
                universityAdmission2022: 71,
                grade9Exam2024: 6.5,
                grade9Exam2023: 6.3,
                grade9Exam2022: 6.4,
                grade11Exam2024: 6.7,
                grade11Exam2023: 6.5,
                grade11Exam2022: 6.6,
                internationalAssessment: "Mədənçilik texnologiyaları beynəlxalq təcrübə",
                olympiadResults2024: 0,
                olympiadResults2023: 1,
                olympiadResults2022: 0
            },
            {
                id: 55,
                name: "Gədəbəy Təbiət və Ekoloji Liseyi",
                region: "Gədəbəy",
                district: "Mərkəzi",
                type: "Ekoloji Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.0,
                quality: 6.8,
                management: 6.6,
                community: 6.4,
                equalOpportunity: 6.5,
                universityAdmission2024: 72,
                universityAdmission2023: 70,
                universityAdmission2022: 73,
                grade9Exam2024: 6.7,
                grade9Exam2023: 6.5,
                grade9Exam2022: 6.6,
                grade11Exam2024: 6.9,
                grade11Exam2023: 6.7,
                grade11Exam2022: 6.8,
                internationalAssessment: "Ekoloji mühafizə beynəlxalq layihələr",
                olympiadResults2024: 1,
                olympiadResults2023: 0,
                olympiadResults2022: 1
            },
            {
                id: 56,
                name: "Ağstafa Sərhəd Mədəniyyəti Liseyi",
                region: "Ağstafa",
                district: "Mərkəzi",
                type: "Mədəni Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.1,
                quality: 6.9,
                management: 6.7,
                community: 6.5,
                equalOpportunity: 6.6,
                universityAdmission2024: 73,
                universityAdmission2023: 71,
                universityAdmission2022: 74,
                grade9Exam2024: 6.8,
                grade9Exam2023: 6.6,
                grade9Exam2022: 6.7,
                grade11Exam2024: 7.0,
                grade11Exam2023: 6.8,
                grade11Exam2022: 6.9,
                internationalAssessment: "Sərhəd mədəniyyəti beynəlxalq müsabiqələr",
                olympiadResults2024: 1,
                olympiadResults2023: 2,
                olympiadResults2022: 1
            },
            {
                id: 57,
                name: "Qazax Beynəlxalq Ticarət Liseyi",
                region: "Qazax",
                district: "Mərkəzi",
                type: "İqtisadi Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.4,
                quality: 7.2,
                management: 7.0,
                community: 6.8,
                equalOpportunity: 6.9,
                universityAdmission2024: 76,
                universityAdmission2023: 74,
                universityAdmission2022: 77,
                grade9Exam2024: 7.1,
                grade9Exam2023: 6.9,
                grade9Exam2022: 7.0,
                grade11Exam2024: 7.3,
                grade11Exam2023: 7.1,
                grade11Exam2022: 7.2,
                internationalAssessment: "Beynəlxalq ticarət və iqtisadiyyat müsabiqələri",
                olympiadResults2024: 2,
                olympiadResults2023: 3,
                olympiadResults2022: 2
            },
            {
                id: 58,
                name: "Xızı Neft-Qaz Texnologiyaları Liseyi",
                region: "Xızı",
                district: "Mərkəzi",
                type: "Texniki Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.3,
                quality: 7.1,
                management: 6.9,
                community: 6.7,
                equalOpportunity: 6.8,
                universityAdmission2024: 75,
                universityAdmission2023: 73,
                universityAdmission2022: 76,
                grade9Exam2024: 7.0,
                grade9Exam2023: 6.8,
                grade9Exam2022: 6.9,
                grade11Exam2024: 7.2,
                grade11Exam2023: 7.0,
                grade11Exam2022: 7.1,
                internationalAssessment: "Neft-qaz sənayesi beynəlxalq proqramlar",
                olympiadResults2024: 2,
                olympiadResults2023: 1,
                olympiadResults2022: 3
            },
            {
                id: 59,
                name: "Siyəzən Dənizçilik Liseyi",
                region: "Siyəzən",
                district: "Mərkəzi", 
                type: "İxtisas Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.0,
                quality: 6.8,
                management: 6.6,
                community: 6.4,
                equalOpportunity: 6.5,
                universityAdmission2024: 72,
                universityAdmission2023: 70,
                universityAdmission2022: 73,
                grade9Exam2024: 6.7,
                grade9Exam2023: 6.5,
                grade9Exam2022: 6.6,
                grade11Exam2024: 6.9,
                grade11Exam2023: 6.7,
                grade11Exam2022: 6.8,
                internationalAssessment: "Dənizçilik beynəlxalq təhsil proqramları",
                olympiadResults2024: 1,
                olympiadResults2023: 1,
                olympiadResults2022: 0
            },
            {
                id: 60,
                name: "Şabran Turizm və Qonaqpərvərlik Liseyi",
                region: "Şabran",
                district: "Mərkəzi",
                type: "İxtisas Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.2,
                quality: 7.0,
                management: 6.8,
                community: 6.6,
                equalOpportunity: 6.7,
                universityAdmission2024: 74,
                universityAdmission2023: 72,
                universityAdmission2022: 75,
                grade9Exam2024: 6.9,
                grade9Exam2023: 6.7,
                grade9Exam2022: 6.8,
                grade11Exam2024: 7.1,
                grade11Exam2023: 6.9,
                grade11Exam2022: 7.0,
                internationalAssessment: "Turizm və qonaqpərvərlik beynəlxalq sertifikatlaş",
                olympiadResults2024: 1,
                olympiadResults2023: 2,
                olympiadResults2022: 1
            },
            {
                id: 61,
                name: "Şamaxı Astrofizika Liseyi",
                region: "Şamaxı",
                district: "Mərkəzi",
                type: "Elm Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.5,
                quality: 7.3,
                management: 7.1,
                community: 6.9,
                equalOpportunity: 7.0,
                universityAdmission2024: 77,
                universityAdmission2023: 75,
                universityAdmission2022: 78,
                grade9Exam2024: 7.2,
                grade9Exam2023: 7.0,
                grade9Exam2022: 7.1,
                grade11Exam2024: 7.4,
                grade11Exam2023: 7.2,
                grade11Exam2022: 7.3,
                internationalAssessment: "Astronomiya və astrofizika beynəlxalq olimpiada",
                olympiadResults2024: 3,
                olympiadResults2023: 2,
                olympiadResults2022: 4
            },
            {
                id: 62,
                name: "İsmayıllı Ekoloji Turizm Liseyi",
                region: "İsmayıllı",
                district: "Mərkəzi",
                type: "Ekoloji Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.1,
                quality: 6.9,
                management: 6.7,
                community: 6.5,
                equalOpportunity: 6.6,
                universityAdmission2024: 73,
                universityAdmission2023: 71,
                universityAdmission2022: 74,
                grade9Exam2024: 6.8,
                grade9Exam2023: 6.6,
                grade9Exam2022: 6.7,
                grade11Exam2024: 7.0,
                grade11Exam2023: 6.8,
                grade11Exam2022: 6.9,
                internationalAssessment: "Ekoloji turizm beynəlxalq layihələr",
                olympiadResults2024: 1,
                olympiadResults2023: 1,
                olympiadResults2022: 2
            },
            {
                id: 63,
                name: "Ağsu Kənd Təsərrüfatı Liseyi",
                region: "Ağsu",
                district: "Mərkəzi",
                type: "Aqrar Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 6.9,
                quality: 6.7,
                management: 6.5,
                community: 6.3,
                equalOpportunity: 6.4,
                universityAdmission2024: 71,
                universityAdmission2023: 69,
                universityAdmission2022: 72,
                grade9Exam2024: 6.6,
                grade9Exam2023: 6.4,
                grade9Exam2022: 6.5,
                grade11Exam2024: 6.8,
                grade11Exam2023: 6.6,
                grade11Exam2022: 6.7,
                internationalAssessment: "Kənd təsərrüfatı beynəlxalq təcrübə mübadiləsi",
                olympiadResults2024: 0,
                olympiadResults2023: 1,
                olympiadResults2022: 0
            },
            {
                id: 64,
                name: "Kürdəmir Mədəni İrs Liseyi",
                region: "Kürdəmir",
                district: "Mərkəzi",
                type: "Mədəni Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.0,
                quality: 6.8,
                management: 6.6,
                community: 6.4,
                equalOpportunity: 6.5,
                universityAdmission2024: 72,
                universityAdmission2023: 70,
                universityAdmission2022: 73,
                grade9Exam2024: 6.7,
                grade9Exam2023: 6.5,
                grade9Exam2022: 6.6,
                grade11Exam2024: 6.9,
                grade11Exam2023: 6.7,
                grade11Exam2022: 6.8,
                internationalAssessment: "Mədəni irs beynəlxalq layihələr",
                olympiadResults2024: 1,
                olympiadResults2023: 0,
                olympiadResults2022: 1
            },
            {
                id: 65,
                name: "Ucar Sənət və Dizayn Liseyi",
                region: "Ucar",
                district: "Mərkəzi",
                type: "Sənət Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.1,
                quality: 6.9,
                management: 6.7,
                community: 6.5,
                equalOpportunity: 6.6,
                universityAdmission2024: 73,
                universityAdmission2023: 71,
                universityAdmission2022: 74,
                grade9Exam2024: 6.8,
                grade9Exam2023: 6.6,
                grade9Exam2022: 6.7,
                grade11Exam2024: 7.0,
                grade11Exam2023: 6.8,
                grade11Exam2022: 6.9,
                internationalAssessment: "Sənət və dizayn beynəlxalq müsabiqələr",
                olympiadResults2024: 1,
                olympiadResults2023: 2,
                olympiadResults2022: 1
            },
            {
                id: 66,
                name: "Zərdab Humanitar Fəlsəfə Liseyi",
                region: "Zərdab",
                district: "Mərkəzi",
                type: "Humanitar Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 6.8,
                quality: 6.6,
                management: 6.4,
                community: 6.2,
                equalOpportunity: 6.3,
                universityAdmission2024: 70,
                universityAdmission2023: 68,
                universityAdmission2022: 71,
                grade9Exam2024: 6.5,
                grade9Exam2023: 6.3,
                grade9Exam2022: 6.4,
                grade11Exam2024: 6.7,
                grade11Exam2023: 6.5,
                grade11Exam2022: 6.6,
                internationalAssessment: "Fəlsəfə və humanitar elmlər müsabiqələri",
                olympiadResults2024: 0,
                olympiadResults2023: 1,
                olympiadResults2022: 0
            },
            {
                id: 67,
                name: "Biləsuvar Su Mühəndisliyi Liseyi",
                region: "Biləsuvar",
                district: "Mərkəzi",
                type: "Texniki Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.0,
                quality: 6.8,
                management: 6.6,
                community: 6.4,
                equalOpportunity: 6.5,
                universityAdmission2024: 72,
                universityAdmission2023: 70,
                universityAdmission2022: 73,
                grade9Exam2024: 6.7,
                grade9Exam2023: 6.5,
                grade9Exam2022: 6.6,
                grade11Exam2024: 6.9,
                grade11Exam2023: 6.7,
                grade11Exam2022: 6.8,
                internationalAssessment: "Su mühəndisliyi beynəlxalq proqramlar",
                olympiadResults2024: 1,
                olympiadResults2023: 0,
                olympiadResults2022: 1
            },
            {
                id: 68,
                name: "Cəlilabad Aqrar İnnovasiya Liseyi",
                region: "Cəlilabad",
                district: "Mərkəzi",
                type: "Aqrar Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.2,
                quality: 7.0,
                management: 6.8,
                community: 6.6,
                equalOpportunity: 6.7,
                universityAdmission2024: 74,
                universityAdmission2023: 72,
                universityAdmission2022: 75,
                grade9Exam2024: 6.9,
                grade9Exam2023: 6.7,
                grade9Exam2022: 6.8,
                grade11Exam2024: 7.1,
                grade11Exam2023: 6.9,
                grade11Exam2022: 7.0,
                internationalAssessment: "Aqrar innovasiyalar beynəlxalq forum",
                olympiadResults2024: 2,
                olympiadResults2023: 1,
                olympiadResults2022: 2
            },
            {
                id: 69,
                name: "Masallı Subtropik Botanika Liseyi",
                region: "Masallı",
                district: "Mərkəzi",
                type: "Təbiət Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.1,
                quality: 6.9,
                management: 6.7,
                community: 6.5,
                equalOpportunity: 6.6,
                universityAdmission2024: 73,
                universityAdmission2023: 71,
                universityAdmission2022: 74,
                grade9Exam2024: 6.8,
                grade9Exam2023: 6.6,
                grade9Exam2022: 6.7,
                grade11Exam2024: 7.0,
                grade11Exam2023: 6.8,
                grade11Exam2022: 6.9,
                internationalAssessment: "Subtropik botanika beynəlxalq tədqiqat",
                olympiadResults2024: 1,
                olympiadResults2023: 2,
                olympiadResults2022: 1
            },
            {
                id: 70,
                name: "Yardımlı Ekoloji Mühafizə Liseyi",
                region: "Yardımlı",
                district: "Mərkəzi",
                type: "Ekoloji Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 6.9,
                quality: 6.7,
                management: 6.5,
                community: 6.3,
                equalOpportunity: 6.4,
                universityAdmission2024: 71,
                universityAdmission2023: 69,
                universityAdmission2022: 72,
                grade9Exam2024: 6.6,
                grade9Exam2023: 6.4,
                grade9Exam2022: 6.5,
                grade11Exam2024: 6.8,
                grade11Exam2023: 6.6,
                grade11Exam2022: 6.7,
                internationalAssessment: "Ekoloji mühafizə beynəlxalq layihələr",
                olympiadResults2024: 0,
                olympiadResults2023: 1,
                olympiadResults2022: 0
            },
            {
                id: 71,
                name: "Astara Turizm və Coğrafiya Liseyi",
                region: "Astara",
                district: "Mərkəzi",
                type: "İxtisas Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 7.0,
                quality: 6.8,
                management: 6.6,
                community: 6.4,
                equalOpportunity: 6.5,
                universityAdmission2024: 72,
                universityAdmission2023: 70,
                universityAdmission2022: 73,
                grade9Exam2024: 6.7,
                grade9Exam2023: 6.5,
                grade9Exam2022: 6.6,
                grade11Exam2024: 6.9,
                grade11Exam2023: 6.7,
                grade11Exam2022: 6.8,
                internationalAssessment: "Turizm və coğrafiya beynəlxalq müsabiqələr",
                olympiadResults2024: 1,
                olympiadResults2023: 1,
                olympiadResults2022: 2
            },
            {
                id: 72,
                name: "Lerik Dağ Ekoloji Liseyi",
                region: "Lerik",
                district: "Mərkəzi",
                type: "Ekoloji Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 6.8,
                quality: 6.6,
                management: 6.4,
                community: 6.2,
                equalOpportunity: 6.3,
                universityAdmission2024: 70,
                universityAdmission2023: 68,
                universityAdmission2022: 71,
                grade9Exam2024: 6.5,
                grade9Exam2023: 6.3,
                grade9Exam2022: 6.4,
                grade11Exam2024: 6.7,
                grade11Exam2023: 6.5,
                grade11Exam2022: 6.6,
                internationalAssessment: "Dağ ekoloji sistemi beynəlxalq proqramlar",
                olympiadResults2024: 0,
                olympiadResults2023: 0,
                olympiadResults2022: 1
            },
            {
                id: 73,
                name: "Ordubad Tarix-Mədəniyyət Liseyi",
                region: "Naxçıvan",
                district: "Ordubad",
                type: "Mədəni Lisey",
                authority: "NMXR Təhsil Nazirliyi",
                pisaParticipant: false,
                achievement: 7.3,
                quality: 7.1,
                management: 6.9,
                community: 6.7,
                equalOpportunity: 6.8,
                universityAdmission2024: 75,
                universityAdmission2023: 73,
                universityAdmission2022: 76,
                grade9Exam2024: 7.0,
                grade9Exam2023: 6.8,
                grade9Exam2022: 6.9,
                grade11Exam2024: 7.2,
                grade11Exam2023: 7.0,
                grade11Exam2022: 7.1,
                internationalAssessment: "UNESCO dünya mədəni miras layihələri",
                olympiadResults2024: 2,
                olympiadResults2023: 1,
                olympiadResults2022: 3
            },
            {
                id: 74,
                name: "Şərur Kənd Təsərrüfatı Liseyi",
                region: "Naxçıvan",
                district: "Şərur",
                type: "Aqrar Lisey",
                authority: "NMXR Təhsil Nazirliyi",
                pisaParticipant: false,
                achievement: 7.0,
                quality: 6.8,
                management: 6.6,
                community: 6.4,
                equalOpportunity: 6.5,
                universityAdmission2024: 72,
                universityAdmission2023: 70,
                universityAdmission2022: 73,
                grade9Exam2024: 6.7,
                grade9Exam2023: 6.5,
                grade9Exam2022: 6.6,
                grade11Exam2024: 6.9,
                grade11Exam2023: 6.7,
                grade11Exam2022: 6.8,
                internationalAssessment: "Quraq zonalar kənd təsərrüfatı beynəlxalq proqram",
                olympiadResults2024: 1,
                olympiadResults2023: 0,
                olympiadResults2022: 1
            },
            {
                id: 75,
                name: "Culfa İpək Yolu Ticarət Liseyi",
                region: "Naxçıvan",
                district: "Culfa",
                type: "İqtisadi Lisey",
                authority: "NMXR Təhsil Nazirliyi",
                pisaParticipant: false,
                achievement: 7.2,
                quality: 7.0,
                management: 6.8,
                community: 6.6,
                equalOpportunity: 6.7,
                universityAdmission2024: 74,
                universityAdmission2023: 72,
                universityAdmission2022: 75,
                grade9Exam2024: 6.9,
                grade9Exam2023: 6.7,
                grade9Exam2022: 6.8,
                grade11Exam2024: 7.1,
                grade11Exam2023: 6.9,
                grade11Exam2022: 7.0,
                internationalAssessment: "İpək Yolu beynəlxalq ticarət proqramları",
                olympiadResults2024: 1,
                olympiadResults2023: 2,
                olympiadResults2022: 1
            },
            {
                id: 76,
                name: "A.S.Makarenko adına Humanitar Lisey",
                region: "Bakı",
                district: "Yasamal",
                type: "Humanitar Lisey",
                authority: "Təhsil İnstitutu",
                pisaParticipant: true,
                achievement: 8.7,
                quality: 8.5,
                management: 8.3,
                community: 8.1,
                equalOpportunity: 8.2,
                universityAdmission2024: 92,
                universityAdmission2023: 90,
                universityAdmission2022: 93,
                grade9Exam2024: 8.4,
                grade9Exam2023: 8.2,
                grade9Exam2022: 8.3,
                grade11Exam2024: 8.6,
                grade11Exam2023: 8.4,
                grade11Exam2022: 8.5,
                internationalAssessment: "PISA 2022: Riyaziyyat 512, Oxu 520, Elm 515",
                olympiadResults2024: 9,
                olympiadResults2023: 11,
                olympiadResults2022: 8
            },
            {
                id: 77,
                name: "M.F.Axundov adına Azərbaycan Dövlət Akademik Dram Teatrının Pişəkar Hazırlığı Gimnaziyası",
                region: "Bakı",
                district: "İçərişəhər",
                type: "Sənət Gimnaziyası",
                authority: "Təhsil İnstitutu",
                pisaParticipant: false,
                achievement: 8.3,
                quality: 8.1,
                management: 7.9,
                community: 7.7,
                equalOpportunity: 7.8,
                universityAdmission2024: 88,
                universityAdmission2023: 86,
                universityAdmission2022: 89,
                grade9Exam2024: 8.0,
                grade9Exam2023: 7.8,
                grade9Exam2022: 7.9,
                grade11Exam2024: 8.2,
                grade11Exam2023: 8.0,
                grade11Exam2022: 8.1,
                internationalAssessment: "Teatr sənəti beynəlxalq festivallar",
                olympiadResults2024: 6,
                olympiadResults2023: 7,
                olympiadResults2022: 5
            },
            {
                id: 78,
                name: "Ə.Mahmudbəyov adına Respublika Liseyi",
                region: "Bakı",
                district: "Nəsimi",
                type: "Respublika Liseyi",
                authority: "Təhsil İnstitutu",
                pisaParticipant: true,
                achievement: 8.8,
                quality: 8.6,
                management: 8.4,
                community: 8.2,
                equalOpportunity: 8.3,
                universityAdmission2024: 94,
                universityAdmission2023: 92,
                universityAdmission2022: 95,
                grade9Exam2024: 8.5,
                grade9Exam2023: 8.3,
                grade9Exam2022: 8.4,
                grade11Exam2024: 8.7,
                grade11Exam2023: 8.5,
                grade11Exam2022: 8.6,
                internationalAssessment: "PISA 2022: Riyaziyyat 518, Oxu 515, Elm 522",
                olympiadResults2024: 10,
                olympiadResults2023: 12,
                olympiadResults2022: 9
            },
            {
                id: 79,
                name: "6 nömrəli Respublika Liseyi",
                region: "Bakı",
                district: "Səbail",
                type: "Respublika Liseyi",
                authority: "Təhsil İnstitutu",
                pisaParticipant: true,
                achievement: 8.6,
                quality: 8.4,
                management: 8.2,
                community: 8.0,
                equalOpportunity: 8.1,
                universityAdmission2024: 91,
                universityAdmission2023: 89,
                universityAdmission2022: 92,
                grade9Exam2024: 8.3,
                grade9Exam2023: 8.1,
                grade9Exam2022: 8.2,
                grade11Exam2024: 8.5,
                grade11Exam2023: 8.3,
                grade11Exam2022: 8.4,
                internationalAssessment: "PISA 2022: Riyaziyyat 514, Oxu 512, Elm 518",
                olympiadResults2024: 8,
                olympiadResults2023: 9,
                olympiadResults2022: 7
            },
            {
                id: 80,
                name: "20 nömrəli Məktəb-Lisey",
                region: "Bakı",
                district: "Yasamal",
                type: "Məktəb-Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 8.2,
                quality: 8.0,
                management: 7.8,
                community: 7.6,
                equalOpportunity: 7.7,
                universityAdmission2024: 86,
                universityAdmission2023: 84,
                universityAdmission2022: 87,
                grade9Exam2024: 7.9,
                grade9Exam2023: 7.7,
                grade9Exam2022: 7.8,
                grade11Exam2024: 8.1,
                grade11Exam2023: 7.9,
                grade11Exam2022: 8.0,
                internationalAssessment: "Keyfiyyət təhsil proqramları",
                olympiadResults2024: 6,
                olympiadResults2023: 7,
                olympiadResults2022: 5
            },
            {
                id: 81,
                name: "132 nömrəli Məktəb-Lisey",
                region: "Bakı",
                district: "Nəsimi",
                type: "Məktəb-Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 8.1,
                quality: 7.9,
                management: 7.7,
                community: 7.5,
                equalOpportunity: 7.6,
                universityAdmission2024: 85,
                universityAdmission2023: 83,
                universityAdmission2022: 86,
                grade9Exam2024: 7.8,
                grade9Exam2023: 7.6,
                grade9Exam2022: 7.7,
                grade11Exam2024: 8.0,
                grade11Exam2023: 7.8,
                grade11Exam2022: 7.9,
                internationalAssessment: "Riyaziyyat və elm təhsili proqramları",
                olympiadResults2024: 5,
                olympiadResults2023: 6,
                olympiadResults2022: 4
            },
            {
                id: 82,
                name: "23 nömrəli Məktəb-Lisey",
                region: "Bakı",
                district: "Xətai",
                type: "Məktəb-Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 8.0,
                quality: 7.8,
                management: 7.6,
                community: 7.4,
                equalOpportunity: 7.5,
                universityAdmission2024: 84,
                universityAdmission2023: 82,
                universityAdmission2022: 85,
                grade9Exam2024: 7.7,
                grade9Exam2023: 7.5,
                grade9Exam2022: 7.6,
                grade11Exam2024: 7.9,
                grade11Exam2023: 7.7,
                grade11Exam2022: 7.8,
                internationalAssessment: "İnnovatif təhsil metodları",
                olympiadResults2024: 4,
                olympiadResults2023: 5,
                olympiadResults2022: 3
            },
            {
                id: 83,
                name: "Heydər Əliyev adına Lidelik Liseyi",
                region: "Bakı",
                district: "Nəsimi",
                type: "Lidelik Liseyi",
                authority: "Təhsil İnstitutu",
                pisaParticipant: true,
                achievement: 8.9,
                quality: 8.7,
                management: 8.5,
                community: 8.3,
                equalOpportunity: 8.4,
                universityAdmission2024: 95,
                universityAdmission2023: 93,
                universityAdmission2022: 96,
                grade9Exam2024: 8.6,
                grade9Exam2023: 8.4,
                grade9Exam2022: 8.5,
                grade11Exam2024: 8.8,
                grade11Exam2023: 8.6,
                grade11Exam2022: 8.7,
                internationalAssessment: "PISA 2022: Riyaziyyat 525, Oxu 522, Elm 528",
                olympiadResults2024: 13,
                olympiadResults2023: 15,
                olympiadResults2022: 11
            },
            {
                id: 84,
                name: "Nobel Humanitar Liseyi",
                region: "Bakı",
                district: "Yasamal",
                type: "Humanitar Lisey",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 8.3,
                quality: 8.1,
                management: 7.9,
                community: 7.7,
                equalOpportunity: 7.8,
                universityAdmission2024: 87,
                universityAdmission2023: 85,
                universityAdmission2022: 88,
                grade9Exam2024: 8.0,
                grade9Exam2023: 7.8,
                grade9Exam2022: 7.9,
                grade11Exam2024: 8.2,
                grade11Exam2023: 8.0,
                grade11Exam2022: 8.1,
                internationalAssessment: "Nobel mükafatı qalibləri araşdırma proqramı",
                olympiadResults2024: 6,
                olympiadResults2023: 8,
                olympiadResults2022: 5
            },
            {
                id: 85,
                name: "İnsan Hüquqları Təhsil Mərkəzi Liseyi",
                region: "Bakı",
                district: "Nəsimi",
                type: "Hüquq Liseyi",
                authority: "Rayon Təhsil Şöbəsi",
                pisaParticipant: false,
                achievement: 8.1,
                quality: 7.9,
                management: 7.7,
                community: 7.5,
                equalOpportunity: 7.6,
                universityAdmission2024: 85,
                universityAdmission2023: 83,
                universityAdmission2022: 86,
                grade9Exam2024: 7.8,
                grade9Exam2023: 7.6,
                grade9Exam2022: 7.7,
                grade11Exam2024: 8.0,
                grade11Exam2023: 7.8,
                grade11Exam2022: 7.9,
                internationalAssessment: "İnsan hüquqları beynəlxalq konfranslar",
                olympiadResults2024: 4,
                olympiadResults2023: 5,
                olympiadResults2022: 3
            }
        ];

        // Calculate total scores
        schools.forEach(function(school) {
            school.totalScore = parseFloat((
                school.achievement * 0.40 +
                school.quality * 0.30 +
                school.management * 0.10 +
                school.community * 0.10 +
                school.equalOpportunity * 0.10
            ).toFixed(1));
        });

        // Global variables
        let selectedSchools = [];
        let selectedRegions = [];
        let currentTab = 'schools';
        let currentChart = null;
        let trendChart = null;
        let dataTable = null;

        // Calculate regions data
        const regions = calculateRegions();

        function calculateRegions() {
            const regionMap = {};
            
            schools.forEach(function(school) {
                if (!regionMap[school.region]) {
                    regionMap[school.region] = {
                        name: school.region,
                        schools: [],
                        totalStudents: Math.floor(Math.random() * 2000) + 500,
                        pisaCount: 0
                    };
                }
                regionMap[school.region].schools.push(school);
                if (school.pisaParticipant) {
                    regionMap[school.region].pisaCount++;
                }
            });

            return Object.values(regionMap).map(function(region) {
                const schoolCount = region.schools.length;
                region.totalScore = parseFloat((
                    region.schools.reduce(function(sum, s) { return sum + s.totalScore; }, 0) / schoolCount
                ).toFixed(1));
                region.achievement = parseFloat((
                    region.schools.reduce(function(sum, s) { return sum + s.achievement; }, 0) / schoolCount
                ).toFixed(1));
                region.quality = parseFloat((
                    region.schools.reduce(function(sum, s) { return sum + s.quality; }, 0) / schoolCount
                ).toFixed(1));
                region.management = parseFloat((
                    region.schools.reduce(function(sum, s) { return sum + s.management; }, 0) / schoolCount
                ).toFixed(1));
                region.community = parseFloat((
                    region.schools.reduce(function(sum, s) { return sum + s.community; }, 0) / schoolCount
                ).toFixed(1));
                region.equalOpportunity = parseFloat((
                    region.schools.reduce(function(sum, s) { return sum + s.equalOpportunity; }, 0) / schoolCount
                ).toFixed(1));
                region.schoolCount = schoolCount;
                
                return region;
            }).sort(function(a, b) { return b.totalScore - a.totalScore; });
        }

        // Show loading
        function showLoading() {
            document.getElementById('tableLoading').classList.add('show');
        }

        // Hide loading
        function hideLoading() {
            document.getElementById('tableLoading').classList.remove('show');
        }

        // Show message
        function showMessage(message, type = 'success') {
            const element = document.getElementById(type + 'Message');
            if (element) {
                element.textContent = message;
                element.style.display = 'block';
                setTimeout(function() {
                    element.style.display = 'none';
                }, 3000);
            }
        }

        // Initialize
        function init() {
            showLoading();
            
            try {
                // Əsas funksiyaları çağır
                populateSchoolsList();
                populateRegionsList();
                updateChart();
                updateTrendChart();
                setupEventListeners();
                updateStats();
                
                // DataTable-i ayrıca başlat (jQuery yükləmə problemi üçün)
                setTimeout(function() {
                    initDataTable();
                }, 1000);
                
                hideLoading();
                showMessage('Sistem uğurla yükləndi! 85 lisey və gimnaziyanın məlumatları hazırdır.', 'success');
            } catch (error) {
                hideLoading();
                showMessage('Xəta baş verdi: ' + error.message, 'error');
                console.error('İnit xətası:', error);
            }
        }

        // Switch tabs
        function switchTab(tab) {
            try {
                currentTab = tab;
                
                document.querySelectorAll('.tab-button').forEach(function(btn) {
                    btn.classList.remove('active');
                });
                event.target.classList.add('active');
                
                if (tab === 'schools') {
                    document.getElementById('schools-tab').style.display = 'grid';
                    document.getElementById('regions-tab').style.display = 'none';
                } else {
                    document.getElementById('schools-tab').style.display = 'none';
                    document.getElementById('regions-tab').style.display = 'grid';
                }
                
                clearSelection();
                
                // DataTable-i yenilə
                setTimeout(function() {
                    updateDataTable();
                }, 300);
                
                console.log('Tab dəyişdi:', tab);
            } catch (error) {
                console.error('Tab dəyişmə xətası:', error);
                showMessage('Tab dəyişərkən xəta baş verdi', 'error');
            }
        }

        // Populate schools list
        function populateSchoolsList() {
            const container = document.getElementById('schoolsList');
            if (!container) return;
            
            // Sort schools by authority then by total score
            const sortedSchools = schools.slice().sort(function(a, b) {
                if (a.authority === "Təhsil İnstitutu" && b.authority !== "Təhsil İnstitutu") return -1;
                if (a.authority !== "Təhsil İnstitutu" && b.authority === "Təhsil İnstitutu") return 1;
                return b.totalScore - a.totalScore;
            });
            
            container.innerHTML = sortedSchools.map(function(school) {
                const authorityBadge = school.authority === "Təhsil İnstitutu" ? 
                    ' <span class="badge badge-international">T.İ.</span>' : '';
                const pisaBadge = school.pisaParticipant ? 
                    ' <span class="badge badge-pisa">PISA</span>' : '';
                
                return '<div class="item" onclick="toggleSchoolSelection(' + school.id + ')">' +
                    '<input type="checkbox" class="item-checkbox" id="school-' + school.id + '">' +
                    '<div class="item-info">' +
                        '<div class="item-name">' + school.name + '</div>' +
                        '<div class="item-details">' + school.region + ' • ' + school.type + authorityBadge + pisaBadge + '</div>' +
                    '</div>' +
                    '<div class="item-score">' + school.totalScore + '</div>' +
                '</div>';
            }).join('');
        }

        // Populate regions list
        function populateRegionsList() {
            const container = document.getElementById('regionsList');
            if (!container) return;
            
            container.innerHTML = regions.map(function(region) {
                return '<div class="item" onclick="toggleRegionSelection(\'' + region.name + '\')">' +
                    '<input type="checkbox" class="item-checkbox" id="region-' + region.name.replace(/\s+/g, '') + '">' +
                    '<div class="item-info">' +
                        '<div class="item-name">' + region.name + '</div>' +
                        '<div class="item-details">' + region.schoolCount + ' məktəb • ' + region.totalStudents.toLocaleString() + ' şagird</div>' +
                    '</div>' +
                    '<div class="item-score">' + region.totalScore + '</div>' +
                '</div>';
            }).join('');
        }

        // Toggle school selection
        function toggleSchoolSelection(schoolId) {
            const checkbox = document.getElementById('school-' + schoolId);
            const item = checkbox.parentElement;
            
            if (selectedSchools.includes(schoolId)) {
                selectedSchools = selectedSchools.filter(function(id) { return id !== schoolId; });
                checkbox.checked = false;
                item.classList.remove('selected');
            } else if (selectedSchools.length < 10) {
                selectedSchools.push(schoolId);
                checkbox.checked = true;
                item.classList.add('selected');
            } else {
                showMessage('Maksimum 10 məktəb seçə bilərsiniz.', 'error');
                return;
            }
            
            updateSelectedList();
        }

        // Toggle region selection
        function toggleRegionSelection(regionName) {
            const checkbox = document.getElementById('region-' + regionName.replace(/\s+/g, ''));
            const item = checkbox.parentElement;
            
            if (selectedRegions.includes(regionName)) {
                selectedRegions = selectedRegions.filter(function(name) { return name !== regionName; });
                checkbox.checked = false;
                item.classList.remove('selected');
            } else if (selectedRegions.length < 8) {
                selectedRegions.push(regionName);
                checkbox.checked = true;
                item.classList.add('selected');
            } else {
                showMessage('Maksimum 8 bölgə seçə bilərsiniz.', 'error');
                return;
            }
            
            updateSelectedRegionList();
        }

        // Update selected list
        function updateSelectedList() {
            const container = document.getElementById('selectedList');
            const countElement = document.getElementById('selectedCount');
            
            countElement.textContent = selectedSchools.length;
            
            if (selectedSchools.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">Müqayisə üçün məktəbləri seçin</p>';
                return;
            }
            
            const selectedData = schools.filter(function(school) {
                return selectedSchools.includes(school.id);
            });
            
            container.innerHTML = selectedData.map(function(school) {
                return '<div class="item selected" onclick="toggleSchoolSelection(' + school.id + ')">' +
                    '<div class="item-info">' +
                        '<div class="item-name">' + school.name + '</div>' +
                        '<div class="item-details">' + school.region + '</div>' +
                    '</div>' +
                    '<div class="item-score">' + school.totalScore + '</div>' +
                '</div>';
            }).join('');
        }

        // Update selected region list
        function updateSelectedRegionList() {
            const container = document.getElementById('selectedRegionList');
            const countElement = document.getElementById('selectedRegionCount');
            
            countElement.textContent = selectedRegions.length;
            
            if (selectedRegions.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">Müqayisə üçün bölgələri seçin</p>';
                return;
            }
            
            const selectedData = regions.filter(function(region) {
                return selectedRegions.includes(region.name);
            });
            
            container.innerHTML = selectedData.map(function(region) {
                return '<div class="item selected" onclick="toggleRegionSelection(\'' + region.name + '\')">' +
                    '<div class="item-info">' +
                        '<div class="item-name">' + region.name + '</div>' +
                        '<div class="item-details">' + region.schoolCount + ' məktəb</div>' +
                    '</div>' +
                    '<div class="item-score">' + region.totalScore + '</div>' +
                '</div>';
            }).join('');
        }

// Clear selection
        function clearSelection() {
            if (selectedSchools.length === 0 && selectedRegions.length === 0) {
                showMessage('Təmizlənəcək seçim yoxdur.', 'error');
                return;
            }
            
            selectedSchools = [];
            selectedRegions = [];
            
            document.querySelectorAll('.item-checkbox').forEach(function(cb) {
                cb.checked = false;
            });
            document.querySelectorAll('.item').forEach(function(item) {
                item.classList.remove('selected');
            });
            
            updateSelectedList();
            updateSelectedRegionList();
            
            // Chart-ları tamamilə təmizlə və yenilə
            try {
                // Trend chart-ı tamamilə təmizlə və boş göstər
                if (trendChart) {
                    trendChart.destroy();
                    trendChart = null;
                }
                
                // Boş trend chart yarat
                const ctx = document.getElementById('trendChart').getContext('2d');
                ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
                
                trendChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['2022', '2023', '2024'],
                        datasets: []
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Müqayisə üçün məktəb seçin',
                                font: { size: 16, weight: 'bold' }
                            },
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                title: {
                                    display: true,
                                    text: 'Göstərici',
                                    font: { size: 14 }
                                }
                            },
                            x: {
                                title: {
                                    display: true,
                                    text: 'İl',
                                    font: { size: 14 }
                                }
                            }
                        }
                    }
                });
                
                // Main chart-ı yenilə
                updateChart();
                
                // DataTable-i də yenilə
                setTimeout(function() {
                    if (dataTable && $.fn.DataTable.isDataTable('#dataTable')) {
                        updateDataTable();
                    }
                }, 300);
            } catch (error) {
                console.error('Chart yenilənmə xətası:', error);
            }
            
            showMessage('Bütün seçimlər təmizləndi.', 'success');
        }
        // Compare selected
        function compareSelected() {
            try {
                if (currentTab === 'schools' && selectedSchools.length === 0) {
                    showMessage('Müqayisə üçün ən azı bir məktəb seçin.', 'error');
                    return;
                }
                if (currentTab === 'regions' && selectedRegions.length === 0) {
                    showMessage('Müqayisə üçün ən azı bir bölgə seçin.', 'error');
                    return;
                }
                
                // Chart-ları yenilə
                updateChart();
                updateTrendChart();
                
                // DataTable-i yenilə
                setTimeout(function() {
                    updateDataTable();
                }, 300);
                
                showMessage('Müqayisə uğurla həyata keçirildi.', 'success');
                console.log('Müqayisə edildi:', currentTab, selectedSchools.length + selectedRegions.length + ' element');
                
            } catch (error) {
                console.error('Müqayisə xətası:', error);
                showMessage('Müqayisə zamanı xəta baş verdi: ' + error.message, 'error');
            }
        }

        // Update chart
        function updateChart() {
            const chartType = document.getElementById('chartType').value;
            const parameter = document.getElementById('parameter').value;
            const ctx = document.getElementById('chartCanvas').getContext('2d');

            if (currentChart) {
                currentChart.destroy();
            }

            let data;
            let title;
            
            if (currentTab === 'schools') {
                if (selectedSchools.length > 0) {
                    data = schools.filter(function(school) {
                        return selectedSchools.includes(school.id);
                    });
                    title = 'Seçilmiş Məktəblər';
                } else {
                    data = schools.slice().sort(function(a, b) { return b.totalScore - a.totalScore; }).slice(0, 10);
                    title = 'Ən Yüksək 10 Məktəb';
                }
            } else {
                if (selectedRegions.length > 0) {
                    data = regions.filter(function(region) {
                        return selectedRegions.includes(region.name);
                    });
                    title = 'Seçilmiş Bölgələr';
                } else {
                    data = regions.slice();
                    title = 'Bütün Bölgələr';
                }
            }

            document.getElementById('chartTitle').textContent = title + ' - ' + getParameterLabel(parameter);

            const colors = [
                'rgba(102, 126, 234, 0.8)', 'rgba(75, 192, 192, 0.8)', 'rgba(255, 159, 64, 0.8)',
                'rgba(255, 99, 132, 0.8)', 'rgba(153, 102, 255, 0.8)', 'rgba(255, 205, 86, 0.8)',
                'rgba(54, 162, 235, 0.8)', 'rgba(255, 99, 255, 0.8)'
            ];

            let chartConfig = {
                type: chartType,
                data: {
                    labels: data.map(function(item) { return item.name || item.region; }),
                    datasets: [{
                        label: getParameterLabel(parameter),
                        data: data.map(function(item) { return item[parameter]; }),
                        backgroundColor: chartType === 'pie' ? colors.slice(0, data.length) : 'rgba(102, 126, 234, 0.8)',
                        borderColor: chartType === 'pie' ? colors.slice(0, data.length) : 'rgba(102, 126, 234, 1)',
                        borderWidth: 2,
                        fill: chartType === 'radar' ? true : false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: title + ' - ' + getParameterLabel(parameter),
                            font: { size: 16 }
                        },
                        legend: {
                            display: chartType === 'pie',
                            position: 'bottom'
                        }
                    },
                    scales: chartType === 'pie' || chartType === 'radar' ? {} : {
                        y: {
                            beginAtZero: true,
                            max: 10
                        }
                    }
                }
            };

            if (chartType === 'radar') {
                chartConfig.options.scales = {
                    r: {
                        beginAtZero: true,
                        max: 10
                    }
                };
            }

            currentChart = new Chart(ctx, chartConfig);
        }

        // Get parameter label
        function getParameterLabel(parameter) {
            const labels = {
                'totalScore': 'Ümumi Bal',
                'achievement': 'Nailiyyət (40%)',
                'quality': 'Keyfiyyət (30%)',
                'management': 'İdarəetmə (10%)',
                'community': 'İcma (10%)',
                'equalOpportunity': 'Bərabər İmkanlar (10%)'
            };
            return labels[parameter] || parameter;
        }

        // Initialize DataTable
        function initDataTable() {
            // jQuery və DataTable yüklənməsini yoxla
            if (typeof $ === 'undefined' || typeof $.fn.DataTable === 'undefined') {
                console.log('jQuery və ya DataTable yüklənməyib, 1000ms sonra yenidən cəhd');
                setTimeout(initDataTable, 1000);
                return;
            }
            
            try {
                const sortedData = schools.slice().sort(function(a, b) {
                    if (a.authority === "Təhsil İnstitutu" && b.authority !== "Təhsil İnstitutu") return -1;
                    if (a.authority !== "Təhsil İnstitutu" && b.authority === "Təhsil İnstitutu") return 1;
                    return b.totalScore - a.totalScore;
                });
                
                // Əgər cədvəl artıq varsa, məhv et
                if ($.fn.DataTable.isDataTable('#dataTable')) {
                    $('#dataTable').DataTable().clear().destroy();
                    $('#dataTable').empty();
                }
                
                dataTable = $('#dataTable').DataTable({
                    data: sortedData,
                    destroy: true, // Əvvəlki instance-ı avtomatik məhv et
                    columns: [
                        { 
                            title: "№", 
                            data: null, 
                            width: "5%",
                            render: function (data, type, row, meta) { 
                                return '<strong>' + (meta.row + 1) + '</strong>'; 
                            }
                        },
                        { 
                            title: "Məktəb Adı", 
                            data: 'name',
                            width: "25%",
                            render: function(data, type, row) {
                                const authorityBadge = row.authority === "Təhsil İnstitutu" ? 
                                    ' <span class="badge badge-international" style="font-size:0.7em;">T.İ.</span>' : '';
                                const pisaBadge = row.pisaParticipant ? 
                                    ' <span class="badge badge-pisa" style="font-size:0.7em;">PISA</span>' : '';
                                return '<strong>' + data + '</strong>' + authorityBadge + pisaBadge;
                            }
                        },
                        { 
                            title: "Bölgə", 
                            data: 'region',
                            width: "10%" 
                        },
                        { 
                            title: "Tipi", 
                            data: 'type',
                            width: "15%" 
                        },
                        { 
                            title: "Ümumi Bal", 
                            data: 'totalScore',
                            width: "8%",
                            render: function(data) { 
                                const color = data >= 8.5 ? 'color: #4caf50; font-weight: bold;' : 
                                            data >= 7.5 ? 'color: #ff9800; font-weight: bold;' : 
                                            'color: #f44336; font-weight: bold;';
                                return '<span style="' + color + '">' + (data ? data.toFixed(1) : '0.0') + '</span>'; 
                            }
                        },
                        { 
                            title: "Ali Məktəb 2024", 
                            data: 'universityAdmission2024',
                            width: "10%",
                            render: function(data) { 
                                const color = data >= 90 ? 'color: #4caf50; font-weight: bold;' : 
                                            data >= 80 ? 'color: #ff9800; font-weight: bold;' : 
                                            'color: #f44336; font-weight: bold;';
                                return '<span style="' + color + '">' + data + '%</span>'; 
                            }
                        },
                        { 
                            title: "9-cu sinif 2024", 
                            data: 'grade9Exam2024',
                            width: "9%",
                            render: function(data) { 
                                const color = data >= 8.0 ? 'color: #4caf50;' : 
                                            data >= 7.0 ? 'color: #ff9800;' : 
                                            'color: #f44336;';
                                return '<span style="' + color + '">' + (data ? data.toFixed(1) : '0.0') + '</span>'; 
                            }
                        },
                        { 
                            title: "11-ci sinif 2024", 
                            data: 'grade11Exam2024',
                            width: "9%",
                            render: function(data) { 
                                const color = data >= 8.0 ? 'color: #4caf50;' : 
                                            data >= 7.0 ? 'color: #ff9800;' : 
                                            'color: #f44336;';
                                return '<span style="' + color + '">' + (data ? data.toFixed(1) : '0.0') + '</span>'; 
                            }
                        },
                        { 
                            title: "Olimpiada 2024", 
                            data: 'olympiadResults2024',
                            width: "9%",
                            render: function(data) {
                                const color = data >= 10 ? 'color: #4caf50; font-weight: bold;' : 
                                            data >= 5 ? 'color: #ff9800;' : 
                                            data > 0 ? 'color: #2196f3;' : 'color: #666;';
                                return '<span style="' + color + '">' + data + '</span>';
                            }
                        }
                    ],
                    pageLength: 20,
                    lengthMenu: [[10, 20, 50, 100, -1], [10, 20, 50, 100, "Hamısı"]],
                    order: [[4, 'desc']], // Ümumi bala görə azalan sıralama
                    responsive: true,
                    scrollX: true,
                    fixedHeader: true,
                    language: {
                        search: "🔍 Axtarış:",
                        lengthMenu: "Göstər _MENU_ məktəb",
                        info: "_START_-_END_ arası / _TOTAL_ məktəb",
                        infoEmpty: "0-0 arası / 0 məktəb",
                        infoFiltered: "(_MAX_ məktəbdən filtrlənib)",
                        paginate: {
                            next: "Növbəti →",
                            previous: "← Əvvəlki",
                            first: "İlk",
                            last: "Son"
                        },
                        emptyTable: "Məlumat yoxdur",
                        zeroRecords: "Axtarış nəticəsi tapılmadı",
                        processing: "Yüklənir...",
                        loadingRecords: "Məlumatlar yüklənir..."
                    },
                    dom: '<"row"<"col-sm-12 col-md-6"l><"col-sm-12 col-md-6"f>>' +
                         '<"row"<"col-sm-12"tr>>' +
                         '<"row"<"col-sm-12 col-md-5"i><"col-sm-12 col-md-7"p>>',
                    drawCallback: function(settings) {
                        // Hər render-dən sonra badge-ləri yenidən style et
                        $('.badge-pisa').css({
                            'background': '#d4edda',
                            'color': '#155724',
                            'padding': '2px 6px',
                            'border-radius': '10px',
                            'font-size': '0.7em'
                        });
                        $('.badge-international').css({
                            'background': '#fff3cd',
                            'color': '#856404',
                            'padding': '2px 6px',
                            'border-radius': '10px',
                            'font-size': '0.7em'
                        });
                    }
                });
                
                console.log('DataTable uğurla başladı - ' + sortedData.length + ' məktəb');
                showMessage('Cədvəl uğurla yükləndi - ' + sortedData.length + ' məktəb', 'success');
                
            } catch (error) {
                console.error('DataTable xətası:', error);
                showMessage('Cədvəl yüklənmədi: ' + error.message, 'error');
                
                // Fallback - sadə HTML cədvəli yarat
                createFallbackTable();
            }
        }

        // Fallback function - əgər DataTable işləmirsə
        function createFallbackTable() {
            try {
                const sortedData = schools.slice().sort(function(a, b) {
                    return b.totalScore - a.totalScore;
                });
                
                let tableHTML = `
                    <table class="display" style="width:100%; border-collapse: collapse;">
                        <thead style="background: #f5f5f5;">
                            <tr>
                                <th style="padding: 10px; border: 1px solid #ddd;">№</th>
                                <th style="padding: 10px; border: 1px solid #ddd;">Məktəb Adı</th>
                                <th style="padding: 10px; border: 1px solid #ddd;">Bölgə</th>
                                <th style="padding: 10px; border: 1px solid #ddd;">Ümumi Bal</th>
                                <th style="padding: 10px; border: 1px solid #ddd;">Ali Məktəb 2024</th>
                                <th style="padding: 10px; border: 1px solid #ddd;">PISA</th>
                            </tr>
                        </thead>
                        <tbody>
                `;
                
                sortedData.forEach(function(school, index) {
                    tableHTML += `
                        <tr style="border-bottom: 1px solid #eee;">
                            <td style="padding: 8px; border: 1px solid #ddd;">${index + 1}</td>
                            <td style="padding: 8px; border: 1px solid #ddd;"><strong>${school.name}</strong></td>
                            <td style="padding: 8px; border: 1px solid #ddd;">${school.region}</td>
                            <td style="padding: 8px; border: 1px solid #ddd; font-weight: bold; color: #667eea;">${school.totalScore.toFixed(1)}</td>
                            <td style="padding: 8px; border: 1px solid #ddd;">${school.universityAdmission2024}%</td>
                            <td style="padding: 8px; border: 1px solid #ddd;">${school.pisaParticipant ? 'Bəli' : 'Xeyr'}</td>
                        </tr>
                    `;
                });
                
                tableHTML += '</tbody></table>';
                
                document.getElementById('dataTable').innerHTML = tableHTML;
                console.log('Fallback cədvəl yaradıldı');
                
            } catch (error) {
                console.error('Fallback cədvəl xətası:', error);
                document.getElementById('dataTable').innerHTML = '<p style="text-align: center; color: #f44336; padding: 20px;">Cədvəl yüklənmədi. Səhifəni yenidən yükləyin.</p>';
            }
        }

        // Update DataTable
        function updateDataTable() {
            // jQuery və DataTable yüklənməsini yoxla
            if (typeof $ === 'undefined' || typeof $.fn.DataTable === 'undefined') {
                console.log('jQuery və ya DataTable yüklənməyib, cədvəl yenilənmədi');
                setTimeout(function() {
                    initDataTable(); // Yenidən cəhd et
                }, 1000);
                return;
            }
            
            try {
                // Əvvəlki cədvəli təmizlə
                if (dataTable && $.fn.DataTable.isDataTable('#dataTable')) {
                    dataTable.clear().destroy();
                    dataTable = null;
                }
                
                let data;
                let columns;
                
                if (currentTab === 'schools') {
                    data = selectedSchools.length > 0 ? 
                        schools.filter(function(school) { return selectedSchools.includes(school.id); }) : 
                        schools;
                    
                    data = data.slice().sort(function(a, b) {
                        if (a.authority === "Təhsil İnstitutu" && b.authority !== "Təhsil İnstitutu") return -1;
                        if (a.authority !== "Təhsil İnstitutu" && b.authority === "Təhsil İnstitutu") return 1;
                        return b.totalScore - a.totalScore;
                    });
                    
                    columns = [
                        { 
                            title: "№", 
                            data: null, 
                            width: "5%",
                            render: function (data, type, row, meta) { 
                                return '<strong>' + (meta.row + 1) + '</strong>'; 
                            }
                        },
                        { 
                            title: "Məktəb Adı", 
                            data: 'name',
                            width: "25%",
                            render: function(data, type, row) {
                                const authorityBadge = row.authority === "Təhsil İnstitutu" ? 
                                    ' <span class="badge badge-international" style="font-size:0.7em;">T.İ.</span>' : '';
                                const pisaBadge = row.pisaParticipant ? 
                                    ' <span class="badge badge-pisa" style="font-size:0.7em;">PISA</span>' : '';
                                return '<strong>' + data + '</strong>' + authorityBadge + pisaBadge;
                            }
                        },
                        { 
                            title: "Bölgə", 
                            data: 'region',
                            width: "10%" 
                        },
                        { 
                            title: "Tipi", 
                            data: 'type',
                            width: "15%" 
                        },
                        { 
                            title: "Ümumi Bal", 
                            data: 'totalScore',
                            width: "8%",
                            render: function(data) { 
                                const color = data >= 8.5 ? 'color: #4caf50; font-weight: bold;' : 
                                            data >= 7.5 ? 'color: #ff9800; font-weight: bold;' : 
                                            'color: #f44336; font-weight: bold;';
                                return '<span style="' + color + '">' + (data ? data.toFixed(1) : '0.0') + '</span>'; 
                            }
                        },
                        { 
                            title: "Ali Məktəb 2024", 
                            data: 'universityAdmission2024',
                            width: "10%",
                            render: function(data) { 
                                const color = data >= 90 ? 'color: #4caf50; font-weight: bold;' : 
                                            data >= 80 ? 'color: #ff9800; font-weight: bold;' : 
                                            'color: #f44336; font-weight: bold;';
                                return '<span style="' + color + '">' + data + '%</span>'; 
                            }
                        },
                        { 
                            title: "9-cu sinif 2024", 
                            data: 'grade9Exam2024',
                            width: "9%",
                            render: function(data) { 
                                const color = data >= 8.0 ? 'color: #4caf50;' : 
                                            data >= 7.0 ? 'color: #ff9800;' : 
                                            'color: #f44336;';
                                return '<span style="' + color + '">' + (data ? data.toFixed(1) : '0.0') + '</span>'; 
                            }
                        },
                        { 
                            title: "11-ci sinif 2024", 
                            data: 'grade11Exam2024',
                            width: "9%",
                            render: function(data) { 
                                const color = data >= 8.0 ? 'color: #4caf50;' : 
                                            data >= 7.0 ? 'color: #ff9800;' : 
                                            'color: #f44336;';
                                return '<span style="' + color + '">' + (data ? data.toFixed(1) : '0.0') + '</span>'; 
                            }
                        },
                        { 
                            title: "Olimpiada 2024", 
                            data: 'olympiadResults2024',
                            width: "9%",
                            render: function(data) {
                                const color = data >= 10 ? 'color: #4caf50; font-weight: bold;' : 
                                            data >= 5 ? 'color: #ff9800;' : 
                                            data > 0 ? 'color: #2196f3;' : 'color: #666;';
                                return '<span style="' + color + '">' + data + '</span>';
                            }
                        }
                    ];
                } else {
                    data = selectedRegions.length > 0 ? 
                        regions.filter(function(region) { return selectedRegions.includes(region.name); }) : 
                        regions;
                    
                    columns = [
                        { 
                            title: "№", 
                            data: null, 
                            width: "5%",
                            render: function (data, type, row, meta) { 
                                return '<strong>' + (meta.row + 1) + '</strong>'; 
                            }
                        },
                        { 
                            title: "Bölgə", 
                            data: 'name',
                            width: "20%" 
                        },
                        { 
                            title: "Məktəb Sayı", 
                            data: 'schoolCount',
                            width: "15%",
                            render: function(data) {
                                return '<strong>' + data + '</strong>';
                            }
                        },
                        { 
                            title: "Ümumi Bal", 
                            data: 'totalScore', 
                            width: "15%",
                            render: function(data) { 
                                const color = data >= 8.0 ? 'color: #4caf50; font-weight: bold;' : 
                                            data >= 7.0 ? 'color: #ff9800; font-weight: bold;' : 
                                            'color: #f44336; font-weight: bold;';
                                return '<span style="' + color + '">' + (data ? data.toFixed(1) : '0.0') + '</span>'; 
                            }
                        },
                        { 
                            title: "Nailiyyət", 
                            data: 'achievement', 
                            width: "15%",
                            render: function(data) { 
                                return '<span style="color: #667eea;">' + (data ? data.toFixed(1) : '0.0') + '</span>'; 
                            }
                        },
                        { 
                            title: "Keyfiyyət", 
                            data: 'quality', 
                            width: "15%",
                            render: function(data) { 
                                return '<span style="color: #667eea;">' + (data ? data.toFixed(1) : '0.0') + '</span>'; 
                            }
                        },
                        { 
                            title: "İdarəetmə", 
                            data: 'management', 
                            width: "15%",
                            render: function(data) { 
                                return '<span style="color: #667eea;">' + (data ? data.toFixed(1) : '0.0') + '</span>'; 
                            }
                        }
                    ];
                }
                
                // Yeni cədvəl yarat
                dataTable = $('#dataTable').DataTable({
                    data: data,
                    columns: columns,
                    destroy: true,
                    pageLength: 20,
                    lengthMenu: [[10, 20, 50, 100, -1], [10, 20, 50, 100, "Hamısı"]],
                    order: currentTab === 'schools' ? [[4, 'desc']] : [[3, 'desc']],
                    responsive: true,
                    scrollX: true,
                    fixedHeader: true,
                    language: {
                        search: "🔍 Axtarış:",
                        lengthMenu: "Göstər _MENU_",
                        info: "_START_-_END_ arası / _TOTAL_" + (currentTab === 'schools' ? ' məktəb' : ' bölgə'),
                        infoEmpty: "0-0 arası / 0",
                        infoFiltered: "(_MAX_-dən filtrlənib)",
                        paginate: {
                            next: "Növbəti →",
                            previous: "← Əvvəlki",
                            first: "İlk",
                            last: "Son"
                        },
                        emptyTable: "Məlumat yoxdur",
                        zeroRecords: "Axtarış nəticəsi tapılmadı",
                        processing: "Yüklənir...",
                        loadingRecords: "Məlumatlar yüklənir..."
                    },
                    drawCallback: function(settings) {
                        // Hər render-dən sonra badge-ləri yenidən style et
                        $('.badge-pisa').css({
                            'background': '#d4edda',
                            'color': '#155724',
                            'padding': '2px 6px',
                            'border-radius': '10px',
                            'font-size': '0.7em'
                        });
                        $('.badge-international').css({
                            'background': '#fff3cd',
                            'color': '#856404',
                            'padding': '2px 6px',
                            'border-radius': '10px',
                            'font-size': '0.7em'
                        });
                    }
                });
                
                console.log('DataTable yeniləndi:', currentTab, data.length + ' məlumat');
                showMessage('Cədvəl yeniləndi - ' + data.length + (currentTab === 'schools' ? ' məktəb' : ' bölgə'), 'success');
                
            } catch (error) {
                console.error('DataTable yenilənmə xətası:', error);
                showMessage('Cədvəl yenilənmədi: ' + error.message, 'error');
                
                // Fallback olaraq yenidən init et
                setTimeout(function() {
                    initDataTable();
                }, 1000);
            }
        }

        // Update trend chart
        function updateTrendChart() {
            try {
                const trendType = document.getElementById('trendType').value;
                const ctx = document.getElementById('trendChart').getContext('2d');

                if (trendChart) {
                    trendChart.destroy();
                    trendChart = null;
                }

                let datasets = [];
                let selectedData = [];
                
                // Əgər məktəb seçilməyibsə, ən yaxşı 5 məktəbi göstər
                if (selectedSchools.length > 0) {
                    selectedData = schools.filter(function(school) { 
                        return selectedSchools.includes(school.id); 
                    });
                } else {
                    // Default olaraq ən yüksək 5 məktəbi göstər
                    selectedData = schools.slice().sort(function(a, b) { 
                        return b.totalScore - a.totalScore; 
                    }).slice(0, 5);
                }
                
                const colors = [
                    'rgba(102, 126, 234, 1)', 'rgba(75, 192, 192, 1)', 'rgba(255, 159, 64, 1)',
                    'rgba(255, 99, 132, 1)', 'rgba(153, 102, 255, 1)', 'rgba(255, 205, 86, 1)',
                    'rgba(54, 162, 235, 1)', 'rgba(255, 99, 255, 1)'
                ];

                selectedData.forEach(function(school, index) {
                    let data = [];
                    
                    if (trendType === 'university') {
                        data = [school.universityAdmission2022, school.universityAdmission2023, school.universityAdmission2024];
                    } else if (trendType === 'grade9') {
                        data = [school.grade9Exam2022, school.grade9Exam2023, school.grade9Exam2024];
                    } else if (trendType === 'grade11') {
                        data = [school.grade11Exam2022, school.grade11Exam2023, school.grade11Exam2024];
                    }

                    datasets.push({
                        label: school.name.length > 25 ? school.name.substring(0, 25) + '...' : school.name,
                        data: data,
                        borderColor: colors[index % colors.length],
                        backgroundColor: colors[index % colors.length].replace('1)', '0.1)'),
                        borderWidth: 3,
                        fill: false,
                        tension: 0.1,
                        pointRadius: 5,
                        pointHoverRadius: 7
                    });
                });

                const config = {
                    type: 'line',
                    data: {
                        labels: ['2022', '2023', '2024'],
                        datasets: datasets
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            intersect: false,
                            mode: 'index'
                        },
                        plugins: {
                            title: {
                                display: true,
                                text: selectedSchools.length > 0 ? 
                                    'Seçilmiş Məktəblərin Dinamikası (' + selectedData.length + ' məktəb)' : 
                                    'Ən Yüksək 5 Məktəbin Dinamikası',
                                font: { size: 16, weight: 'bold' }
                            },
                            legend: {
                                display: true,
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0,0,0,0.8)',
                                titleColor: 'white',
                                bodyColor: 'white',
                                borderColor: 'rgba(102, 126, 234, 1)',
                                borderWidth: 1,
                                displayColors: true,
                                callbacks: {
                                    title: function(context) {
                                        return context[0].label + '-ci il';
                                    },
                                    label: function(context) {
                                        let suffix = '';
                                        if (trendType === 'university') {
                                            suffix = '%';
                                        }
                                        return context.dataset.label + ': ' + context.parsed.y + suffix;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: trendType === 'university' ? true : false,
                                max: trendType === 'university' ? 100 : 10,
                                title: {
                                    display: true,
                                    text: getTrendLabel(trendType),
                                    font: { size: 14, weight: 'bold' }
                                },
                                grid: {
                                    color: 'rgba(0,0,0,0.1)'
                                }
                            },
                            x: {
                                title: {
                                    display: true,
                                    text: 'İl',
                                    font: { size: 14, weight: 'bold' }
                                },
                                grid: {
                                    color: 'rgba(0,0,0,0.1)'
                                }
                            }
                        }
                    }
                };

                trendChart = new Chart(ctx, config);
                console.log('Trend chart uğurla yükləndi:', selectedData.length + ' məktəb');
                
            } catch (error) {
                console.error('Trend chart xətası:', error);
                showMessage('Dinamika diaqramı yüklənmədi: ' + error.message, 'error');
            }
        }

        // Get trend label
        function getTrendLabel(trendType) {
            if (trendType === 'university') return 'Ali Məktəb Qəbulu (%)';
            if (trendType === 'grade9') return '9-cu Sinif Buraxılış Balı';
            if (trendType === 'grade11') return '11-ci Sinif Buraxılış Balı';
            return '';
        }

        // Export data
        function exportData() {
            try {
                showMessage('İxrac prosesi başladı...', 'success');
                
                let data;
                let filename;
                let csv = '';
                
                if (currentTab === 'schools') {
                    data = selectedSchools.length > 0 ? 
                        schools.filter(function(school) { return selectedSchools.includes(school.id); }) : 
                        schools;
                    filename = 'azerbaycan_lisey_gimnaziyalar_' + new Date().toISOString().split('T')[0] + '.csv';
                    csv = 'Sıra,Ad,Tabe Olduğu Qurum,Bölgə,Tip,Ümumi Bal,Nailiyyət,Keyfiyyət,İdarəetmə,İcma,Bərabər İmkanlar,Ali Məktəb 2024,Ali Məktəb 2023,Ali Məktəb 2022,9-cu sinif 2024,9-cu sinif 2023,9-cu sinif 2022,11-ci sinif 2024,11-ci sinif 2023,11-ci sinif 2022,Beynəlxalq Qiymətləndirmə,Olimpiada 2024,Olimpiada 2023,Olimpiada 2022,PISA\n';
                    data.forEach(function(school, index) {
                        csv += `${index + 1},"${school.name}","${school.authority}","${school.region}","${school.type}",${school.totalScore},${school.achievement},${school.quality},${school.management},${school.community},${school.equalOpportunity},${school.universityAdmission2024}%,${school.universityAdmission2023}%,${school.universityAdmission2022}%,${school.grade9Exam2024},${school.grade9Exam2023},${school.grade9Exam2022},${school.grade11Exam2024},${school.grade11Exam2023},${school.grade11Exam2022},"${school.internationalAssessment}",${school.olympiadResults2024},${school.olympiadResults2023},${school.olympiadResults2022},"${school.pisaParticipant ? 'Bəli' : 'Xeyr'}"\n`;
                    });
                } else {
                    data = selectedRegions.length > 0 ? 
                        regions.filter(function(region) { return selectedRegions.includes(region.name); }) : 
                        regions;
                    filename = 'azerbaycan_bolgeler_reytinqi_' + new Date().toISOString().split('T')[0] + '.csv';
                    csv = 'Sıra,Bölgə,Məktəb Sayı,Ümumi Bal,Nailiyyət,Keyfiyyət,İdarəetmə,İcma,Bərabər İmkanlar\n';
                    data.forEach(function(region, index) {
                        csv += `${index + 1},"${region.name}",${region.schoolCount},${region.totalScore},${region.achievement},${region.quality},${region.management},${region.community},${region.equalOpportunity}\n`;
                    });
                }
                
                const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                const url = URL.createObjectURL(blob);
                link.setAttribute('href', url);
                link.setAttribute('download', filename);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                showMessage(`${data.length} məktəbin məlumatları uğurla ixrac edildi!`, 'success');
                
            } catch (error) {
                showMessage('İxrac zamanı xəta baş verdi: ' + error.message, 'error');
            }
        }

        // Print functionality
        function printReport() {
            const printWindow = window.open('', '_blank');
            const selectedData = selectedSchools.length > 0 ? 
                schools.filter(function(school) { return selectedSchools.includes(school.id); }) : 
                schools.slice(0, 10);
            
            let printContent = `
                <html>
                <head>
                    <title>Azərbaycan Lisey və Gimnaziyalar Hesabatı</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        h1 { color: #667eea; text-align: center; }
                        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                        th { background-color: #f2f2f2; }
                        .header-info { margin-bottom: 20px; }
                    </style>
                </head>
                <body>
                    <h1>🏫 Azərbaycan Respublikası Lisey və Gimnaziyalar</h1>
                    <div class="header-info">
                        <p><strong>Hesabat tarixi:</strong> ${new Date().toLocaleDateString('az-AZ')}</p>
                        <p><strong>Məktəb sayı:</strong> ${selectedData.length}</p>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>№</th>
                                <th>Məktəb Adı</th>
                                <th>Bölgə</th>
                                <th>Tabe Olduğu Qurum</th>
                                <th>Ümumi Bal</th>
                                <th>Ali Məktəb 2024</th>
                                <th>PISA</th>
                            </tr>
                        </thead>
                        <tbody>
            `;
            
            selectedData.forEach(function(school, index) {
                printContent += `
                    <tr>
                        <td>${index + 1}</td>
                        <td>${school.name}</td>
                        <td>${school.region}</td>
                        <td>${school.authority}</td>
                        <td>${school.totalScore}</td>
                        <td>${school.universityAdmission2024}%</td>
                        <td>${school.pisaParticipant ? 'Bəli' : 'Xeyr'}</td>
                    </tr>
                `;
            });
            
            printContent += `
                        </tbody>
                    </table>
                    <div style="margin-top: 30px; font-size: 12px; color: #666;">
                        <p>Bu hesabat Azərbaycan Respublikası Lisey və Gimnaziyalar Reytinq Sistemi tərəfindən yaradılmışdır.</p>
                    </div>
                </body>
                </html>
            `;
            
            printWindow.document.write(printContent);
            printWindow.document.close();
            printWindow.print();
        }

        // Update statistics
        function updateStats() {
            const totalSchools = schools.length;
            const avgScore = (schools.reduce(function(sum, school) {
                return sum + school.totalScore;
            }, 0) / totalSchools).toFixed(1);
            
            const pisaCount = schools.filter(function(school) {
                return school.pisaParticipant;
            }).length;
            
            const regionCount = [...new Set(schools.map(function(school) {
                return school.region;
            }))].length;
            
            document.getElementById('totalSchools').textContent = totalSchools;
            document.getElementById('avgScore').textContent = avgScore;
            document.getElementById('pisaCount').textContent = pisaCount;
            document.getElementById('regionCount').textContent = regionCount;
        }

        // Setup event listeners
        function setupEventListeners() {
            document.getElementById('chartType').addEventListener('change', updateChart);
            document.getElementById('parameter').addEventListener('change', updateChart);
            document.getElementById('trendType').addEventListener('change', updateTrendChart);
            
            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.key === 'e') {
                    e.preventDefault();
                    exportData();
                }
                if (e.ctrlKey && e.key === 'c') {
                    e.preventDefault();
                    clearSelection();
                }
                if (e.ctrlKey && e.key === 'm') {
                    e.preventDefault();
                    compareSelected();
                }
            });
            
            // Window resize handler
            window.addEventListener('resize', function() {
                if (currentChart) {
                    currentChart.resize();
                }
                if (trendChart) {
                    trendChart.resize();
                }
            });
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            document.body.style.opacity = '0';
            document.body.style.transition = 'opacity 0.5s ease-in';
            
            // jQuery və DataTable yüklənməsini gözlə
            function waitForLibraries() {
                if (typeof $ !== 'undefined' && typeof Chart !== 'undefined') {
                    console.log('Bütün kitabxanalar yükləndi');
                    init();
                    document.body.style.opacity = '1';
                } else {
                    console.log('Kitabxanalar yüklənir... yenidən yoxlanır');
                    setTimeout(waitForLibraries, 100);
                }
            }
            
            setTimeout(waitForLibraries, 100);
        });
    </script>
</body>
</html>